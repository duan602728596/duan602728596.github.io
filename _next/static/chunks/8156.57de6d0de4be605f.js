"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8156],{68156:function(e,n,a){a.r(n),a.d(n,{live2dInit:function(){return live2dInit},loadModel:function(){return loadModel},modelsLength:function(){return y},switchModel:function(){return switchModel}});var t=a(33938),l=a(8571),r=a.n(l),o=a(13464),i=a.n(o),c=a(91829),d=a.n(c),s=a(99595),u=a.n(s);a(34284);var m=a(30222),f=a.n(m),h=a(37937),p=a(76560),x=a(25150),_=a(77099),M=a(66495);p.Rw.add(x.Sb,_.bx),M._Y.registerTicker(x.vB);var v=[{name:"jianye_2",x:-4,y:0,scale:.026},{name:"wuqi_2",x:-5,y:0,scale:.026},{name:"dafeng_4",x:-5,y:0,scale:.03},{name:"shengluyisi_4",x:0,y:20,scale:.035},{name:"xukufu_3",x:0,y:-40,scale:.032},{name:"dafeng_2",x:-15,y:-20,scale:.04}],y=v.length,I=null,g=Math.floor(Math.random()*y),w=null;function cycleFrame(){return _cycleFrame.apply(this,arguments)}function _cycleFrame(){return(_cycleFrame=(0,t.Z)(f().mark(function _callee(){var e,n;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!v[g].model3.internalModel.motionManager.isFinished()){a.next=7;break}return null!==(n=(e=v[g]).mainIndexItem)&&void 0!==n||(e.mainIndexItem=0),a.next=5,v[g].model3.internalModel.motionManager.startMotion("",v[g].mainIndexItem);case 5:v[g].mainIndexItem+=1,v[g].mainIndexItem>=v[g].mainIndex.length&&(v[g].mainIndexItem=0);case 7:w=requestAnimationFrame(cycleFrame);case 8:case"end":return a.stop()}},_callee)}))).apply(this,arguments)}function loadModel(){return _loadModel.apply(this,arguments)}function _loadModel(){return(_loadModel=(0,t.Z)(f().mark(function _callee2(){var e,n,a,t,l,o,c,s,m,h,p;return f().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(n=(e=v[g]).name,a=e.x,t=e.y,l=e.scale,void 0!==e.model3){f.next=11;break}return f.next=5,M._Y.from(r()(o="/moxing3/".concat(n,"/")).call(o,n,".model3.json"));case 5:e.model3=f.sent,e.model3.x=a,e.model3.y=t,e.model3.scale.set(l,l),null!==(c=e.loginIndex)&&void 0!==c||(e.loginIndex=i()(s=e.model3.internalModel.motionManager.definitions[""]).call(s,function(e){var n;return d()(n=e.File).call(n,"login")})),null!==(m=e.mainIndex)&&void 0!==m||(e.mainIndex=(p=[],u()(h=e.model3.internalModel.motionManager.definitions[""]).call(h,function(e,n){var a;d()(a=e.File).call(a,"main_")&&p.push(n)}),p));case 11:return f.next=13,e.model3.internalModel.motionManager.startMotion("",e.loginIndex);case 13:w=requestAnimationFrame(cycleFrame),I.stage.addChild(v[g].model3);case 15:case"end":return f.stop()}},_callee2)}))).apply(this,arguments)}function switchModel(){return _switchModel.apply(this,arguments)}function _switchModel(){return(_switchModel=(0,t.Z)(f().mark(function _callee3(){var e;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return v[g].model3.internalModel.motionManager.stopAllMotions(),I.stage.removeChild(v[g].model3),null!==w&&cancelAnimationFrame(w),(e=g+1)===y&&(e=0),g=e,n.next=8,loadModel();case 8:case"end":return n.stop()}},_callee3)}))).apply(this,arguments)}function live2dInit(e){return _live2dInit.apply(this,arguments)}function _live2dInit(){return(_live2dInit=(0,t.Z)(f().mark(function _callee4(e){return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,I=new h.M({view:e,autoStart:!0,backgroundAlpha:0,width:220,height:220}),n.next=4,loadModel();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}},_callee4,null,[[0,6]])}))).apply(this,arguments)}}}]);