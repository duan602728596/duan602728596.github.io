"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8782],{98782:function(e,n,a){a.d(n,{live2dInit:function(){return M},switchModel:function(){return h}});var i=a(37937),t=a(76560),o=a(25150),l=a(77099),d=a(66495);t.Rw.add(o.Sb,l.bx),d._Y.registerTicker(o.vB);let m=[{name:"jianye_2",x:-4,y:0,scale:.026},{name:"wuqi_2",x:-5,y:0,scale:.026},{name:"dafeng_4",x:-5,y:0,scale:.03},{name:"shengluyisi_4",x:0,y:20,scale:.035},{name:"xukufu_3",x:0,y:-40,scale:.032},{name:"dafeng_2",x:-15,y:-20,scale:.04}],r=m.length,s=null,c=Math.floor(Math.random()*r),u=null;async function g(){m[c].model3.internalModel.motionManager.isFinished()&&(m[c].mainIndexItem??=0,await m[c].model3.internalModel.motionManager.startMotion("",m[c].mainIndexItem),m[c].mainIndexItem+=1,m[c].mainIndexItem>=m[c].mainIndex.length&&(m[c].mainIndexItem=0)),u=requestAnimationFrame(g)}async function x(){let e=m[c],{name:n,x:a,y:i,scale:t}=e;void 0===e.model3&&(e.model3=await d._Y.from(`/moxing3/${n}/${n}.model3.json`),e.model3.x=a,e.model3.y=i,e.model3.scale.set(t,t),e.loginIndex??=e.model3.internalModel.motionManager.definitions[""].findIndex(e=>e.File.includes("login")),e.mainIndex??=(()=>{let n=[];return e.model3.internalModel.motionManager.definitions[""].forEach((e,a)=>{e.File.includes("main_")&&n.push(a)}),n})()),await e.model3.internalModel.motionManager.startMotion("",e.loginIndex),u=requestAnimationFrame(g),s.stage.addChild(m[c].model3)}async function h(){m[c].model3.internalModel.motionManager.stopAllMotions(),s.stage.removeChild(m[c].model3),null!==u&&cancelAnimationFrame(u);let e=c+1;e===r&&(e=0),c=e,await x()}async function M(e){try{s=new i.M({view:e,autoStart:!0,backgroundAlpha:0,width:220,height:220}),await x()}catch(e){console.error(e)}}}}]);