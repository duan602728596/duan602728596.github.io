"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3173],{33173:function(n,e,a){a.d(e,{live2dInit:function(){return I},switchModel:function(){return f}});var i=a(37937),o=a(76560),t=a(25150),l=a(77099),d=a(66495);o.Rw.add(t.Sb,l.bx),d._Y.registerTicker(t.vB);let m=[{name:"jianye_2",x:-4,y:0,scale:.026},{name:"wuqi_2",x:-5,y:0,scale:.026},{name:"dafeng_4",x:-5,y:0,scale:.03},{name:"shengluyisi_4",x:0,y:20,scale:.035},{name:"xukufu_3",x:0,y:-40,scale:.032},{name:"dafeng_2",x:-15,y:-20,scale:.04}],r=m.length,s=null,c=Math.floor(Math.random()*r),u=null;async function x(){if(m[c].model3.internalModel.motionManager.isFinished()){var n,e;null!==(e=(n=m[c]).mainIndexItem)&&void 0!==e||(n.mainIndexItem=0),await m[c].model3.internalModel.motionManager.startMotion("",m[c].mainIndexItem),m[c].mainIndexItem+=1,m[c].mainIndexItem>=m[c].mainIndex.length&&(m[c].mainIndexItem=0)}u=requestAnimationFrame(x)}async function g(){let n=m[c],{name:e,x:a,y:i,scale:o}=n;if(void 0===n.model3){var t,l;n.model3=await d._Y.from("/moxing3/".concat(e,"/").concat(e,".model3.json")),n.model3.x=a,n.model3.y=i,n.model3.scale.set(o,o),null!==(t=n.loginIndex)&&void 0!==t||(n.loginIndex=n.model3.internalModel.motionManager.definitions[""].findIndex(n=>n.File.includes("login"))),null!==(l=n.mainIndex)&&void 0!==l||(n.mainIndex=(()=>{let e=[];return n.model3.internalModel.motionManager.definitions[""].forEach((n,a)=>{n.File.includes("main_")&&e.push(a)}),e})())}await n.model3.internalModel.motionManager.startMotion("",n.loginIndex),u=requestAnimationFrame(x),s.stage.addChild(m[c].model3)}async function f(){m[c].model3.internalModel.motionManager.stopAllMotions(),s.stage.removeChild(m[c].model3),null!==u&&cancelAnimationFrame(u);let n=c+1;n===r&&(n=0),c=n,await g()}async function I(n){try{s=new i.M({view:n,autoStart:!0,backgroundAlpha:0,width:220,height:220}),await g()}catch(n){console.error(n)}}}}]);