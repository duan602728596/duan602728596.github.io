(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6805],{91547:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/flutter/get-image-size",function(){return t(74375)}])},74375:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(85893),i=t(67294),a=t(9008),o=t.n(a),l=t(66252),c=t(26219),s=t(11151);function m(e){let n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"import 'dart:io';\nimport 'dart:async';\nimport 'package:flutter/material.dart';\n\n/// 获取图片的尺寸\nclass ImageSize {\n  final String imagePath;\n  late ImageStream imageStream;\n  late ImageStreamListener listener;\n\n  ImageSize({ required String this.imagePath }) {}\n\n  // 获取尺寸\n  Future<Map<String, int>> getSize() {\n    Completer<Map<String, int>> completer = Completer();\n    late Image image = Image.file(File(imagePath));\n\n    // 监听图片的加载\n    listener = ImageStreamListener(\n      (ImageInfo info, bool synchronousCall) {\n        imageStream.removeListener(listener);\n\n        if (!completer.isCompleted) {\n          completer.complete({\n            'width': info.image.width,\n            'height': info.image.height\n          });\n        }\n      },\n      onError: (dynamic exception, StackTrace? stackTrace) {\n        imageStream.removeListener(listener);\n\n        if (!completer.isCompleted) {\n          completer.completeError(exception, stackTrace);\n        }\n      });\n\n    imageStream = image.image.resolve(ImageConfiguration());\n\n    imageStream.addListener(listener);\n\n    return completer.future;\n  }\n}\n"})})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}let{Title:d,Paragraph:p}=l.default;var g=function(e){return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d,{children:"在Flutter的开发中，如何获取图片的尺寸"}),(0,r.jsx)(p,{children:"在Flutter的开发中，可以使用如下的方法获取图片的尺寸："}),(0,r.jsx)(u,{})]})};function f(e){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"在Flutter的开发中，如何获取图片的尺寸"}),(0,r.jsx)("meta",{name:"keywords",content:"前端, Flutter, Dart"}),(0,r.jsx)("meta",{name:"description",content:"在Flutter的开发中，如何获取图片的尺寸"})]}),(0,r.jsx)(g,{})]})}},94914:function(e,n,t){"use strict";var r=t(85893),i=t(73935),a=t(39332),o=t(29155),l=t(21652),c=t(70612),s=t(30448),m=t(76467),u=t(1294),d=t.n(u);let{BackTop:p}=o.default;n.Z=function(e){let n=(0,a.useRouter)();return[(0,r.jsxs)("div",{className:d().main,children:[e.goBack?(0,r.jsx)("div",{className:"mb-[16px] text-right",children:(0,r.jsxs)(l.ZP,{onClick:function(e){n.push("/")},children:[(0,r.jsx)(s.Z,{className:"mr-[6px]"}),"返回"]})}):null,e?.children]},"main"),e?.goToTop?(0,r.jsx)(m.default,{children:"object"==typeof document?(0,i.createPortal)((0,r.jsx)(p,{type:"primary",icon:(0,r.jsx)(c.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop"):null]}},26219:function(e,n,t){"use strict";var r=t(85893),i=t(66252),a=t(94914);n.Z=function(e){return(0,r.jsx)(a.Z,{goToTop:!0,goBack:!0,children:(0,r.jsx)(i.default,{children:e.children})})}},1294:function(e){e.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}}},function(e){e.O(0,[1652,5361,2888,9774,179],function(){return e(e.s=91547)}),_N_E=e.O()}]);