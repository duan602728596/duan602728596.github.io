(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6805],{91547:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/flutter/get-image-size",function(){return t(74630)}])},74630:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var r=t(85893),i=t(67294),a=t(9008),o=t.n(a),l=t(92817),c=t(12424),s=t(11151);function m(e){let n={code:"code",pre:"pre",...(0,s.a)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"import 'dart:io';\nimport 'dart:async';\nimport 'package:flutter/material.dart';\n\n/// 获取图片的尺寸\nclass ImageSize {\n  final String imagePath;\n  late ImageStream imageStream;\n  late ImageStreamListener listener;\n\n  ImageSize({ required String this.imagePath }) {}\n\n  // 获取尺寸\n  Future<Map<String, int>> getSize() {\n    Completer<Map<String, int>> completer = Completer();\n    late Image image = Image.file(File(imagePath));\n\n    // 监听图片的加载\n    listener = ImageStreamListener(\n      (ImageInfo info, bool synchronousCall) {\n        imageStream.removeListener(listener);\n\n        if (!completer.isCompleted) {\n          completer.complete({\n            'width': info.image.width,\n            'height': info.image.height\n          });\n        }\n      },\n      onError: (dynamic exception, StackTrace? stackTrace) {\n        imageStream.removeListener(listener);\n\n        if (!completer.isCompleted) {\n          completer.completeError(exception, stackTrace);\n        }\n      });\n\n    imageStream = image.image.resolve(ImageConfiguration());\n\n    imageStream.addListener(listener);\n\n    return completer.future;\n  }\n}\n"})})}function u(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}let{Title:p,Paragraph:d}=l.default;var g=function(e){return(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(p,{children:"在Flutter的开发中，如何获取图片的尺寸"}),(0,r.jsx)(d,{children:"在Flutter的开发中，可以使用如下的方法获取图片的尺寸："}),(0,r.jsx)(u,{})]})};function f(e){return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"在Flutter的开发中，如何获取图片的尺寸"}),(0,r.jsx)("meta",{name:"keywords",content:"前端, Flutter, Dart"}),(0,r.jsx)("meta",{name:"description",content:"在Flutter的开发中，如何获取图片的尺寸"})]}),(0,r.jsx)(g,{})]})}},11035:function(e,n,t){"use strict";var r=t(85893),i=t(73935),a=t(45697),o=t.n(a),l=t(39332),c=t(57140),s=t(44594),m=t(84669),u=t(85486),p=t(76467),d=t(45212),g=t.n(d);let{BackTop:f}=c.default;function h(e){let n=(0,l.useRouter)();return[(0,r.jsxs)("div",{className:g().main,children:[e.goBack?(0,r.jsx)("div",{className:"mb-[16px] text-right",children:(0,r.jsxs)(s.ZP,{onClick:function(e){n.push("/")},children:[(0,r.jsx)(u.Z,{className:"mr-[6px]"}),"返回"]})}):null,e?.children]},"main"),e?.goToTop?(0,r.jsx)(p.default,{children:"object"==typeof document?(0,i.createPortal)((0,r.jsx)(f,{type:"primary",icon:(0,r.jsx)(m.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop"):null]}h.propTypes={children:o().node,goToTop:o().bool,goBack:o().bool},n.Z=h},12424:function(e,n,t){"use strict";var r=t(85893),i=t(45697),a=t.n(i),o=t(11035);function l(e){return(0,r.jsx)(o.Z,{goToTop:!0,goBack:!0,children:e.children})}l.propTypes={children:a().node},n.Z=l},45212:function(e){e.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}}},function(e){e.O(0,[4594,2409,2888,9774,179],function(){return e(e.s=91547)}),_N_E=e.O()}]);