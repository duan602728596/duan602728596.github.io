(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4909],{16889:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var i=t(67294),r=t(9008),a=t.n(r),s=t(76315),l=t(9991),o=t(2013),c=t(67552),d=t.n(c),x=t(85893),h=t(11151);function u(e){var n=d()({pre:"pre",code:"code"},(0,h.ah)(),e.components);return(0,x.jsx)(n.pre,{children:(0,x.jsx)(n.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\n\n/* \u4fdd\u8bc1\u8f93\u5165\u6846tag\u9ad8\u4eae\u7684\u63a7\u5236\u5668 */\nclass CodeHighlightingController extends TextEditingController {\n  /// \u4ee3\u7801\u9ad8\u4eae\n  /// @param { String } text: \u6587\u5b57\n  List<TextSpan> codeHighlighting(BuildContext context, String text) {\n    List<TextSpan> list = [];\n    List<int> tagIndex = [];\n    int textLength = text.length;\n\n    // \u83b7\u53d6\"#\"\u7684index\n    for (int i = 0; i < textLength; i++) {\n      if (text[i] == '#') {\n        tagIndex.add(tagIndex.length % 2 == 0 ? i : (i + 1));\n      }\n    }\n\n    // \u5947\u6570\u65f6\u5220\u9664\u6570\u7ec4\u6700\u540e\u4e00\u4f4d\uff0c\u4fdd\u8bc1\u533a\u95f4\u7684\u5b8c\u6574\n    if (tagIndex.length % 2 != 0) {\n      tagIndex.removeLast();\n    }\n\n    if (tagIndex.length == 0) {\n      // \u6ca1\u6709tag\uff0c\u4e0d\u9700\u8981\u5904\u7406\n      list.add(TextSpan(text: text, style: TextStyle(color: Colors.black)));\n    } else {\n      // \u5904\u7406tag\u7b2c\u4e00\u4f4d\n      if (tagIndex[0] != 0) {\n        list.add(TextSpan(\n          text: text.substring(0, tagIndex[0]),\n          style: TextStyle(color: Colors.black)\n        ));\n      }\n\n      for (int i = 0; i < tagIndex.length; i++) {\n        int startIndex = tagIndex[i];\n        int endIndex = i == (tagIndex.length - 1) ? textLength : tagIndex[i + 1];\n\n        if (startIndex != endIndex) {\n          bool isLight = i % 2 == 0;\n          String tagText = text.substring(startIndex, endIndex);\n\n          if (tagText != '') {\n            String componentText = text.substring(startIndex, endIndex);\n\n            if (isLight) {\n              list.add(TextSpan(\n                text: componentText,\n                style: TextStyle(color: Colors.blue)\n              ));\n            } else {\n              list.add(TextSpan(\n                text: componentText,\n                style: TextStyle(color: Colors.black)\n              ));\n            }\n          }\n        }\n      }\n    }\n\n    return list;\n  }\n\n  @override\n  TextSpan buildTextSpan({\n    required BuildContext context,\n    required bool withComposing,\n    TextStyle? style\n  }) {\n    return TextSpan(children: codeHighlighting(context, text));\n  }\n}\n"})})}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=d()({},(0,h.ah)(),e.components),t=n.wrapper;return t?(0,x.jsx)(t,d()({},e,{children:(0,x.jsx)(u,e)})):u(e)};function p(e){var n=d()({pre:"pre",code:"code"},(0,h.ah)(),e.components);return(0,x.jsx)(n.pre,{children:(0,x.jsx)(n.code,{className:"language-dart",children:"import 'package:flutter/material.dart';\nimport './code_highlighting_controller.dart';\n\nfinal CodeHighlightingController _controller = CodeHighlightingController();\n\nclass Form extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return TextField(\n      controller: _controller,\n      autofocus: true,\n      minLines: 5,\n      maxLines: null,\n      keyboardType: TextInputType.multiline,\n      textInputAction: TextInputAction.newline,\n      decoration: InputDecoration.collapsed(hintText: '\u8bf7\u8f93\u5165...'),\n    );\n  }\n}\n"})})}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=d()({},(0,h.ah)(),e.components),t=n.wrapper;return t?(0,x.jsx)(t,d()({},e,{children:(0,x.jsx)(p,e)})):p(e)},f=s.Z.Title,j=s.Z.Paragraph,v=s.Z.Text;var _=function(){return(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(f,{children:"\u5728TextField\u4e2d\u5b9e\u73b0\u590d\u6742\u7684\u6837\u5f0f"}),(0,x.jsx)(j,{children:"\u5728Flutter\u5f00\u53d1\u4e2d\uff0c\u5982\u679c\u60f3\u8981\u7528TextField\u5b9e\u73b0\u590d\u6742\u7684\u6837\u5f0f\uff0c\u6bd4\u5982\uff1a"}),(0,x.jsx)(o.Z,{className:"block m-[16px]",imageClassName:"block my-0 mx-auto",avifSrc:"/images/complex-style-in-text-field/tangshi.avif",webpSrc:"/images/complex-style-in-text-field/tangshi.webp",src:"/images/complex-style-in-text-field/tangshi.png",alt:"Flutter\u5f00\u53d1\u7684App\u7684\u622a\u56fe"}),(0,x.jsxs)(j,{children:["\u4e24\u4e2a",(0,x.jsx)(v,{strong:!0,children:"#"}),"\u4e4b\u95f4\u88ab\u8bc6\u522b\u4e3atag\uff0c\u9ad8\u4eae\u4e3a\u84dd\u8272\u3002"]}),(0,x.jsxs)(j,{children:["\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u6837\u7684\u6548\u679c\uff0c\u6211\u4eec\u9700\u8981\u6269\u5c55",(0,x.jsx)(v,{strong:!0,children:"TextEditingController"}),"\uff1a"]}),(0,x.jsx)(g,{}),(0,x.jsx)(j,{children:"\u4e4b\u540e\u7528\u5b83\u6765\u521b\u5efaTextField\u7684controller\uff1a"}),(0,x.jsx)(m,{})]})};function T(e){return(0,x.jsxs)(i.Fragment,{children:[(0,x.jsxs)(a(),{children:[(0,x.jsx)("title",{children:"\u5728TextField\u4e2d\u5b9e\u73b0\u590d\u6742\u7684\u6837\u5f0f"}),(0,x.jsx)("meta",{name:"keywords",content:"\u524d\u7aef, Flutter, Dart"}),(0,x.jsx)("meta",{name:"description",content:"\u5728TextField\u4e2d\u5b9e\u73b0\u590d\u6742\u7684\u6837\u5f0f"})]}),(0,x.jsx)(_,{})]})}},39748:function(e,n,t){"use strict";var i=t(19623),r=t(73935),a=t(11163),s=t(14137),l=t(39128),o=t(6171),c=t(76467),d=t(97680),x=t.n(d),h=t(85893);n.Z=function(e){var n=(0,a.useRouter)();return[(0,h.jsxs)("div",{className:x().main,children:[e.goBack?(0,h.jsx)("div",{className:"mb-[16px] text-right",children:(0,h.jsxs)(l.Z,{onClick:function(e){n.push("/")},children:[(0,h.jsx)(o.Z,{className:"mr-[6px]"}),"\u8fd4\u56de"]})}):null,null===e||void 0===e?void 0:e.children]},"main"),(0,h.jsx)(c.default,{children:null!==e&&void 0!==e&&e.goToTop&&"object"===("undefined"===typeof document?"undefined":(0,i.Z)(document))?(0,r.createPortal)((0,h.jsx)(s.Z.BackTop,{title:"\u8fd4\u56de\u9876\u90e8",tabIndex:0,role:"button","aria-label":"\u8fd4\u56de\u9876\u90e8",children:(0,h.jsx)("div",{className:x().goToTop,children:"UP"})}),document.body):null},"backTop")]}},32307:function(e,n,t){"use strict";t(74916);var i=t(88946),r=t.n(i),a=t(81290),s=t.n(a),l=t(41664),o=t.n(l),c=t(97183),d=t(46216),x=t(83062),h=t(67337),u=t(56392),g=t.n(u),p=t(2013),m=t(85893),f=[{href:"/",title:"\u6587\u7ae0"},{href:"/favorites",title:"\u6536\u85cf\u5939"},{href:"/project",title:"\u5f00\u6e90\u9879\u76ee"}],j=["github.io","vercel.app"],v=r()(f).call(f,(function(e,n){return(0,m.jsx)("li",{className:g().navListItem,children:(0,m.jsx)(o(),{href:e.href,children:e.title})},e.href)}));n.Z=function(e){return(0,m.jsx)(c.Z.Header,{className:g().antdHeader,children:(0,m.jsxs)("div",{className:g().header,children:[(0,m.jsx)("nav",{className:g().headerLeft,children:(0,m.jsx)("ul",{className:g().navList,children:v})}),(0,m.jsx)("div",{className:g().headerRight,children:(0,m.jsxs)(d.Z,{className:"mt-[-6px]",size:16,children:[(0,m.jsx)(x.Z,{title:"\u5207\u6362\u7f51\u7ad9\u5730\u5740",children:(0,m.jsx)("a",{className:g().switchAddress,role:"button",tabIndex:0,"aria-label":"\u5207\u6362\u7f51\u7ad9\u5730\u5740",onClick:function(e){var n=window.location,t=n.pathname,i=n.hostname,r=/github\.io/.test(i);window.location.href=new(s())(t,"https://duan602728596.".concat(j[r?1:0],"/"))},children:(0,m.jsx)(h.Z,{className:g().switchAddressIcon})})}),(0,m.jsx)("a",{className:g().githubLink,href:"https://github.com/duan602728596",target:"_blank",rel:"noopener noreferrer",children:(0,m.jsx)(p.Z,{className:"block w-full h-full",imageClassName:"block w-full h-full",avifSrc:"/images/github.avif",webpSrc:"/images/github.webp",src:"/images/github.png",alt:"github"})})]})})]})})}},2013:function(e,n,t){"use strict";var i=t(85893);n.Z=function(e){var n=e.className,t=e.imageClassName,r=e.avifSrc,a=e.webpSrc,s=e.src,l=e.alt;return(0,i.jsxs)("picture",{className:n,children:[r&&(0,i.jsx)("source",{srcSet:r,type:"image/avif"}),a&&(0,i.jsx)("source",{srcSet:a,type:"image/webp"}),(0,i.jsx)("img",{className:t,src:s,alt:l})]})}},9991:function(e,n,t){"use strict";var i=t(67294),r=t(32307),a=t(39748),s=t(85893);n.Z=function(e){return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(r.Z,{}),(0,s.jsx)(a.Z,{goToTop:!0,goBack:!0,children:e.children})]})}},46649:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/flutter/complex-style-in-text-field",function(){return t(16889)}])},97680:function(e){e.exports={main:"main_main__ovwFV",goToTop:"main_goToTop__Soij4"}},56392:function(e){e.exports={antdHeader:"nav_antdHeader__pc6AA",header:"nav_header__K7RoR",headerLeft:"nav_headerLeft__D5kPR",headerRight:"nav_headerRight__plZ1z",navList:"nav_navList__iDQNr",navListItem:"nav_navListItem__UblqT",switchAddress:"nav_switchAddress__vhjXS",githubLink:"nav_githubLink__1sY1n",switchAddressIcon:"nav_switchAddressIcon__e5KfQ"}}},function(e){e.O(0,[9128,1091,1327,9774,2888,179],(function(){return n=46649,e(e.s=n);var n}));var n=e.O();_N_E=n}]);