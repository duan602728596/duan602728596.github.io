(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1263],{69694:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/web/linear-gradient-animate",function(){return t(11475)}])},11475:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return k}});var r=t(85893),o=t(67294),s=t(9008),i=t.n(s),a=t(76315),l=t(92199),c=t.n(l),f=t(30673),u=t(93967),d=t.n(u),m=t(81888),p=t.n(m);let{Title:h,Paragraph:g}=a.default;function x(n){let e=(0,o.useRef)(null),t=(0,o.useRef)(null),s=(0,o.useRef)(null),i=(0,o.useId)().replace(/:/g,""),a=["".concat(i,"-linear-gradient-0"),"".concat(i,"-linear-gradient-1"),"".concat(i,"-linear-gradient-2"),"".concat(i,"-linear-gradient-3")],l="".concat(i,"_svg"),c=[{from:"#13f5ff",to:"#fff713"},{from:"#0017c0",to:"#ff0005"}],f=[{from:"#ff00ff",to:"#4dff27"},{from:"#f9ff7c",to:"#b29fff"}],u={attributeName:"stop-color",dur:".3s",repeatCount:1,fill:"freeze"};return(0,r.jsxs)("svg",{ref:e,className:"block w-full h-full",id:l,xmlns:"http://www.w3.org/2000/svg",version:"1.1",onMouseOver:function(n){setTimeout(function(){t.current.setAttribute("fill","url(#".concat(a[0],")")),s.current.setAttribute("fill","url(#".concat(a[2],")"))},0)},onMouseOut:function(n){setTimeout(function(){t.current.setAttribute("fill","url(#".concat(a[1],")")),s.current.setAttribute("fill","url(#".concat(a[3],")"))},0)},children:[(0,r.jsxs)("linearGradient",{id:a[0],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0",stopColor:c[0].from,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseover"),...c[0],...u})}),(0,r.jsx)("stop",{offset:"100%",stopColor:c[1].from,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseover"),...c[1],...u})})]}),(0,r.jsxs)("linearGradient",{id:a[1],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0",stopColor:c[0].to,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseout"),from:c[0].to,to:c[0].from,...u})}),(0,r.jsx)("stop",{offset:"100%",stopColor:c[1].to,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseout"),from:c[1].to,to:c[1].from,...u})})]}),(0,r.jsxs)("linearGradient",{id:a[2],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0",stopColor:f[0].from,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseover"),...f[0],...u})}),(0,r.jsx)("stop",{offset:"100%",stopColor:f[1].from,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseover"),...f[1],...u})})]}),(0,r.jsxs)("linearGradient",{id:a[3],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,r.jsx)("stop",{offset:"0",stopColor:f[0].to,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseout"),from:f[0].to,to:f[0].from,...u})}),(0,r.jsx)("stop",{offset:"100%",stopColor:f[1].to,children:(0,r.jsx)("animate",{begin:"".concat(l,".mouseout"),from:f[1].to,to:f[1].from,...u})})]}),(0,r.jsxs)("g",{children:[(0,r.jsx)("rect",{ref:t,className:"w-full h-full",fill:"url(#".concat(a[0],")")}),(0,r.jsx)("text",{ref:s,className:d()("pointer-events-none",p().buttonText),x:"50%",y:"50%",fill:"url(#".concat(a[2],")"),children:"Button"})]})]})}var b=function(n){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(h,{level:2,children:"代码演示"}),(0,r.jsxs)(g,{children:["实现的效果：",(0,r.jsx)("button",{className:p().button,type:"button","aria-label":"具有渐变效果的按钮",children:(0,r.jsx)(x,{})})]})]})},v=t(11151);function j(n){let e={code:"code",pre:"pre",...(0,v.a)(),...n.components};return(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <style>\n    .btn {\n      padding: 0;\n      width: 120px;\n      height: 50px;\n      font-size: 26px;\n      background-color: transparent;\n      border: none;\n      outline: none;\n      cursor: pointer;\n    }\n\n    .space {\n      width: 100%;\n      height: 100%;\n    }\n\n    .btn-text {\n      pointer-events: none;\n    }\n\n    .svg {\n      display: block;\n    }\n  </style>\n</head>\n<body>\n<button class="btn" type="button">\n  <svg class="space svg" id="svg" xmlns="http://www.w3.org/2000/svg" version="1.1">\n    <!-- 过渡动画模板1，过渡动画 -->\n    <linearGradient id="linear_gradient_0" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#13f5ff">\n        <animate attributeName="stop-color"\n          from="#13f5ff"\n          to="#fff713"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#0017c0">\n        <animate attributeName="stop-color"\n          from="#0017c0"\n          to="#ff0005"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n    </linearGradient>\n\n    <!-- 过渡动画模板2，还原动画 -->\n    <linearGradient id="linear_gradient_1" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#fff713">\n        <animate attributeName="stop-color"\n          from="#fff713"\n          to="#13f5ff"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#ff0005">\n        <animate attributeName="stop-color"\n          from="#ff0005"\n          to="#0017c0"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n    </linearGradient>\n\n    <!-- 文字动画1 -->\n    <linearGradient id="linear_gradient_2" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#ff00ff">\n        <animate attributeName="stop-color"\n          from="#ff00ff"\n          to="#4dff27"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#f9ff7c">\n        <animate attributeName="stop-color"\n          from="#f9ff7c"\n          to="#b29fff"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n    </linearGradient>\n\n    <!-- 文字动画2，还原动画 -->\n    <linearGradient id="linear_gradient_3" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#4dff27">\n        <animate attributeName="stop-color"\n          from="#4dff27"\n          to="#ff00ff"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#b29fff">\n        <animate attributeName="stop-color"\n          from="#b29fff"\n          to="#f9ff7c"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n    </linearGradient>\n\n    <g>\n      <rect class="space" id="background-rect" fill="url(#linear_gradient_0)" />\n      <text class="btn-text"\n        id="background-text"\n        x="50%"\n        y="50%"\n        text-anchor="middle"\n        dominant-baseline="middle"\n        fill="url(#linear_gradient_2)"\n      >\n        Button\n      </text>\n    </g>\n\n    <!-- 脚本 -->\n    <script type="text/javascript">\n      <![CDATA[\n      const svg = document.getElementById(\'svg\'),\n        rect = document.getElementById(\'background-rect\'),\n        text = document.getElementById(\'background-text\');\n\n      // 鼠标移入时\n      function handleBackgroundMouseOver(event) {\n        // 使用setTimeout防止动画闪烁\n        setTimeout(function() {\n          rect.setAttribute(\'fill\', \'url(#linear_gradient_0)\');\n          text.setAttribute(\'fill\', \'url(#linear_gradient_2)\');\n        }, 0);\n      }\n\n      // 鼠标移出时\n      function handleBackgroundMouseOut(event) {\n        // 使用setTimeout防止动画闪烁\n        setTimeout(function() {\n          rect.setAttribute(\'fill\', \'url(#linear_gradient_1)\');\n          text.setAttribute(\'fill\', \'url(#linear_gradient_3)\');\n        }, 0);\n      }\n\n      svg.addEventListener(\'mouseover\', handleBackgroundMouseOver, false);\n      svg.addEventListener(\'mouseout\', handleBackgroundMouseOut, false);\n      // ]]>\n    </script>\n  </svg>\n</button>\n</body>\n</html>\n'})})}function _(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}={...(0,v.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(j,{...n})}):j(n)}let{Title:y,Paragraph:w,Text:N}=a.default;var T=function(n){return(0,r.jsxs)(f.Z,{children:[(0,r.jsx)(y,{children:"使用SVG，让渐变的背景也能动起来"}),(0,r.jsxs)(w,{children:["当背景是渐变色时，如果想实现过渡动画。直接使用css的",(0,r.jsx)(N,{className:c().textWarning,type:"warning",children:"transition"}),"是不行的。所以考虑使用svg来实现功能。"]}),(0,r.jsx)(b,{}),(0,r.jsx)(y,{level:2,children:"实现代码"}),(0,r.jsx)(_,{})]})};function k(n){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:"使用SVG，让渐变的背景也能动起来"}),(0,r.jsx)("meta",{name:"keywords",content:"前端, SVG"}),(0,r.jsx)("meta",{name:"description",content:"使用SVG，让渐变的背景也能动起来"})]}),(0,r.jsx)(T,{})]})}},39182:function(n,e,t){"use strict";var r=t(85893),o=t(45697),s=t.n(o);function i(n){let{href:e,className:t,children:o}=n;return(0,r.jsx)("a",{className:t,href:e,target:"_blank",rel:"noopener noreferrer",children:o})}i.propTypes={href:s().string.isRequired,className:s().string,children:s().node.isRequired},e.Z=i},99388:function(n,e,t){"use strict";var r=t(85893),o=t(73935),s=t(45697),i=t.n(s),a=t(11163),l=t(81860),c=t(10932),f=t(75162),u=t(6171),d=t(76467),m=t(63791),p=t.n(m);let{BackTop:h}=l.default;function g(n){let e=(0,a.useRouter)();return[(0,r.jsxs)("div",{className:p().main,children:[n.goBack?(0,r.jsx)("div",{className:"mb-[16px] text-right",children:(0,r.jsxs)(c.ZP,{onClick:function(n){e.push("/")},children:[(0,r.jsx)(u.Z,{className:"mr-[6px]"}),"返回"]})}):null,null==n?void 0:n.children]},"main"),(0,r.jsx)(d.default,{children:(null==n?void 0:n.goToTop)&&"object"==typeof document?(0,o.createPortal)((0,r.jsx)(h,{type:"primary",icon:(0,r.jsx)(f.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop")]}g.propTypes={children:i().node,goToTop:i().bool,goBack:i().bool},e.Z=g},43221:function(n,e,t){"use strict";var r=t(85893),o=t(41664),s=t.n(o),i=t(21612),a=t(78957),l=t(83062),c=t(67337),f=t(32958),u=t.n(f),d=t(90791),m=t(39182);let p=["github.io","vercel.app"],h=[{href:"/",title:"文章"},{href:"/favorites",title:"收藏夹"},{href:"/project",title:"开源项目"}].map((n,e)=>(0,r.jsx)("li",{className:u().navListItem,children:(0,r.jsx)(s(),{href:n.href,children:n.title})},n.href));e.Z=function(n){return(0,r.jsx)(i.Z.Header,{className:u().antdHeader,children:(0,r.jsxs)("div",{className:u().header,children:[(0,r.jsx)("nav",{className:u().headerLeft,children:(0,r.jsx)("ul",{className:u().navList,children:h})}),(0,r.jsx)("div",{className:u().headerRight,children:(0,r.jsxs)(a.Z,{size:16,children:[(0,r.jsx)(l.Z,{title:"切换网站地址",children:(0,r.jsx)("a",{className:u().switchAddress,role:"button",tabIndex:0,"aria-label":"切换网站地址",onClick:function(n){let{pathname:e,hostname:t}=window.location,r=/github\.io/.test(t);window.location.href=new URL(e,"https://duan602728596.".concat(p[r?1:0],"/"))},children:(0,r.jsx)(c.Z,{className:u().switchAddressIcon})})}),(0,r.jsx)(m.Z,{className:u().githubLink,href:"https://github.com/duan602728596",children:(0,r.jsx)(d.Z,{className:"block w-full h-full",imageClassName:"block w-full h-full",avifSrc:"/images/github.avif",webpSrc:"/images/github.webp",src:"/images/github.png",alt:"github"})})]})})]})})}},90791:function(n,e,t){"use strict";var r=t(85893),o=t(45697),s=t.n(o);function i(n){let{className:e,imageClassName:t,avifSrc:o,webpSrc:s,src:i,alt:a}=n;return(0,r.jsxs)("picture",{className:e,children:[o&&(0,r.jsx)("source",{srcSet:o,type:"image/avif"}),s&&(0,r.jsx)("source",{srcSet:s,type:"image/webp"}),(0,r.jsx)("img",{className:t,src:i,alt:a})]})}i.propTypes={className:s().string,imageClassName:s().string,avifSrc:s().string,webpSrc:s().string,src:s().string},e.Z=i},30673:function(n,e,t){"use strict";var r=t(85893),o=t(67294),s=t(45697),i=t.n(s),a=t(43221),l=t(99388);function c(n){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(l.Z,{goToTop:!0,goBack:!0,children:n.children})]})}c.propTypes={children:i().node},e.Z=c},63791:function(n){n.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}},32958:function(n){n.exports={antdHeader:"nav_antdHeader__eCvl0",header:"nav_header__y1mlw",headerLeft:"nav_headerLeft__PrT7_",headerRight:"nav_headerRight__JfqYP",navList:"nav_navList__3HXot",navListItem:"nav_navListItem__hpAdz",switchAddress:"nav_switchAddress__sVzqD",githubLink:"nav_githubLink__BDzSl",switchAddressIcon:"nav_switchAddressIcon__KLxGG"}},92199:function(n){n.exports={textWarning:"article_textWarning__aYEh3"}},81888:function(n){n.exports={button:"demo_button__EP0sa",buttonText:"demo_buttonText__WWDpd"}}},function(n){n.O(0,[932,1447,4530,2888,9774,179],function(){return n(n.s=69694)}),_N_E=n.O()}]);