(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5933],{53622:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return SolarSystemPage}});var s=t(67294),r=t(9008),a=t.n(r),i=t(33938);t(752),t(60228),t(73964),t(21694),t(76265);var o=t(30222),c=t.n(o),l=t(92381),u=t.n(l),m=t(35820),p=t.n(m),d=t(48726),h=t(18610),f=t(94184),g=t.n(f),x=t(68795),_=t.n(x),v=t(86471),utils_loadPublicScript=function(e,n){if(!document.getElementById(n))return new(p())(function(t,s){var r=document.createElement("script");r.addEventListener("load",function handleScriptLoad(){t(),r.removeEventListener("load",handleScriptLoad),r=null}),r.id=n,r.src=e,r.dataset.loadType="manual",document.head.appendChild(r)})},j=t(85893),y=d.Z.Title,b=d.Z.Paragraph;function solarInit(){return _solarInit.apply(this,arguments)}function _solarInit(){return(_solarInit=(0,i.Z)(c().mark(function _callee3(){var e,n,t,s,r;return c().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e=new Go,a.next=3,WebAssembly.instantiateStreaming(fetch("/scripts/solar-system.wasm"),e.importObject);case 3:n=a.sent,e.run(n.instance),t=u().__SOLAR_SYSTEM__,r={sun:{material:"/images/solar-system/taiyang.jpg"},planets:s=[{name:"mercury",map:"/images/solar-system/shuixing.jpg",r:1,position:{x:0,y:0,z:70}},{name:"venus",map:"/images/solar-system/jinxing.jpg",r:2,position:{x:0,y:0,z:84}},{name:"earth",map:"/images/solar-system/diqiu.jpg",r:4,position:{x:0,y:0,z:110}},{name:"mars",map:"/images/solar-system/huoxing.jpg",r:5,position:{x:0,y:0,z:140}},{name:"jupiter",map:"/images/solar-system/muxing.jpg",r:17,position:{x:0,y:0,z:220}},{name:"saturn",map:"/images/solar-system/tuxing.jpg",r:11,position:{x:0,y:0,z:280}},{name:"uranus",map:"/images/solar-system/tianwangxing.jpg",r:9,position:{x:0,y:0,z:350}},{name:"neptune",map:"/images/solar-system/haiwangxing.jpg",r:6,position:{x:0,y:0,z:400}}],rings:[{name:"saturnRing",father:"saturn",map:"/images/solar-system/tuxing_huan.jpg",r:{min:14,max:22},rotation:{x:.5,y:0,z:0}},{name:"uranusRing",father:"uranus",map:"/images/solar-system/tianwangxing_huan.jpg",r:{min:10,max:12},rotation:{x:0,y:0,z:.3}}],rotations:[{name:"sun",rot:.01,rev:0,deg:0,l:0},{name:"mercury",rot:.1,rev:.1,deg:0,l:s[0].position.z},{name:"venus",rot:.05,rev:.07,deg:0,l:s[1].position.z},{name:"earth",rot:.05,rev:.03,deg:0,l:s[2].position.z},{name:"mars",rot:.03,rev:.01,deg:0,l:s[3].position.z},{name:"jupiter",rot:.003,rev:.002,deg:0,l:s[4].position.z},{name:"saturn",rot:.01,rev:9e-4,deg:0,l:s[5].position.z},{name:"saturnRing",rot:.01,rev:9e-4,deg:0,l:s[5].position.z},{name:"uranus",rot:.005,rev:5e-4,deg:0,l:s[6].position.z},{name:"uranusRing",rot:.005,rev:5e-4,deg:0,l:s[6].position.z},{name:"neptune",rot:.003,rev:3e-4,deg:0,l:s[7].position.z}],bg:["/images/solar-system/bg0.jpg","/images/solar-system/bg1.jpg"]},t.SolarSystem(THREE,"solar",r);case 9:case"end":return a.stop()}},_callee3)}))).apply(this,arguments)}u().__SOLAR_SYSTEM__={};var SolarSystem_SolarSystem=function(e){var n=(0,s.useRef)(null);function _handleRequestFullscreenClick(){return(_handleRequestFullscreenClick=(0,i.Z)(c().mark(function _callee(e){var t;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.current).requestFullscreen){e.next=6;break}return e.next=4,t.requestFullscreen();case 4:case 9:case 14:e.next=19;break;case 6:if(!t.webkitRequestFullscreen){e.next=11;break}return e.next=9,t.webkitRequestFullscreen();case 11:if(!t.mozRequestFullscreen){e.next=16;break}return e.next=14,t.mozRequestFullscreen();case 16:if(!t.msRequestFullscreen){e.next=19;break}return e.next=19,t.msRequestFullscreen();case 19:case"end":return e.stop()}},_callee)}))).apply(this,arguments)}function _loadScript(){return(_loadScript=(0,i.Z)(c().mark(function _callee2(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p().all([utils_loadPublicScript("/scripts/tinygo_wasm_exec.min.js","tinygo_wasm_exec"),utils_loadPublicScript("/scripts/three.min.js","three")]);case 2:return e.next=4,utils_loadPublicScript("/scripts/OrbitControls.js","three-orbitControls");case 4:solarInit();case 5:case"end":return e.stop()}},_callee2)}))).apply(this,arguments)}return(0,s.useEffect)(function(){"undefined"==typeof Go&&"undefined"==typeof THREE?function(){return _loadScript.apply(this,arguments)}():solarInit()},[]),(0,j.jsxs)(v.Z,{children:[(0,j.jsx)(y,{children:"基于Three.js + wasm开发的太阳系动画"}),(0,j.jsxs)(b,{children:["太阳系动画。基于Three.js和wasm开发。",(0,j.jsx)("a",{href:"https://github.com/duan602728596/duan602728596.github.io/tree/dev/solar-system",target:"_blank",rel:"noopener noreferrer",children:"（代码）"})]}),(0,j.jsx)("div",{className:"mb-[16px] text-right",children:(0,j.jsx)(h.ZP,{type:"primary",onClick:function(e){return _handleRequestFullscreenClick.apply(this,arguments)},children:"全屏运行"})}),(0,j.jsx)("div",{ref:n,className:g()("h-[400px]",_().canvasBox),id:"solar"})]})};function SolarSystemPage(e){return(0,j.jsxs)(s.Fragment,{children:[(0,j.jsxs)(a(),{children:[(0,j.jsx)("title",{children:"基于Three.js + wasm开发的太阳系动画"}),(0,j.jsx)("meta",{name:"keywords",content:"前端, js, javascript, typescript, three.js, wasm"}),(0,j.jsx)("meta",{name:"description",content:"基于Three.js + wasm开发的太阳系动画"})]}),(0,j.jsx)(SolarSystem_SolarSystem,{})]})}},51775:function(e,n,t){"use strict";var s=t(19623),r=t(73935),a=t(11163),i=t(35846),o=t(18610),c=t(75162),l=t(37653),u=t(76467),m=t(96865),p=t.n(m),d=t(85893),h=i.Z.BackTop;n.Z=function(e){var n=(0,a.useRouter)();return[(0,d.jsxs)("div",{className:p().main,children:[e.goBack?(0,d.jsx)("div",{className:"mb-[16px] text-right",children:(0,d.jsxs)(o.ZP,{onClick:function(e){n.push("/")},children:[(0,d.jsx)(l.Z,{className:"mr-[6px]"}),"返回"]})}):null,null==e?void 0:e.children]},"main"),(0,d.jsx)(u.default,{children:null!=e&&e.goToTop&&("undefined"==typeof document?"undefined":(0,s.Z)(document))==="object"?(0,r.createPortal)((0,d.jsx)(h,{type:"primary",icon:(0,d.jsx)(c.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop")]}},5189:function(e,n,t){"use strict";t(64043);var s=t(88946),r=t.n(s),a=t(81290),i=t.n(a),o=t(41664),c=t.n(o),l=t(21612),u=t(78957),m=t(83062),p=t(67337),d=t(10534),h=t.n(d),f=t(43989),g=t(85893),x=[{href:"/",title:"文章"},{href:"/favorites",title:"收藏夹"},{href:"/project",title:"开源项目"}],_=["github.io","vercel.app"],v=r()(x).call(x,function(e,n){return(0,g.jsx)("li",{className:h().navListItem,children:(0,g.jsx)(c(),{href:e.href,children:e.title})},e.href)});n.Z=function(e){return(0,g.jsx)(l.Z.Header,{className:h().antdHeader,children:(0,g.jsxs)("div",{className:h().header,children:[(0,g.jsx)("nav",{className:h().headerLeft,children:(0,g.jsx)("ul",{className:h().navList,children:v})}),(0,g.jsx)("div",{className:h().headerRight,children:(0,g.jsxs)(u.Z,{size:16,children:[(0,g.jsx)(m.Z,{title:"切换网站地址",children:(0,g.jsx)("a",{className:h().switchAddress,role:"button",tabIndex:0,"aria-label":"切换网站地址",onClick:function(e){var n=window.location,t=n.pathname,s=n.hostname,r=/github\.io/.test(s);window.location.href=new(i())(t,"https://duan602728596.".concat(_[r?1:0],"/"))},children:(0,g.jsx)(p.Z,{className:h().switchAddressIcon})})}),(0,g.jsx)("a",{className:h().githubLink,href:"https://github.com/duan602728596",target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(f.Z,{className:"block w-full h-full",imageClassName:"block w-full h-full",avifSrc:"/images/github.avif",webpSrc:"/images/github.webp",src:"/images/github.png",alt:"github"})})]})})]})})}},43989:function(e,n,t){"use strict";var s=t(85893);n.Z=function(e){var n=e.className,t=e.imageClassName,r=e.avifSrc,a=e.webpSrc,i=e.src,o=e.alt;return(0,s.jsxs)("picture",{className:n,children:[r&&(0,s.jsx)("source",{srcSet:r,type:"image/avif"}),a&&(0,s.jsx)("source",{srcSet:a,type:"image/webp"}),(0,s.jsx)("img",{className:t,src:i,alt:o})]})}},86471:function(e,n,t){"use strict";var s=t(67294),r=t(5189),a=t(51775),i=t(85893);n.Z=function(e){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(r.Z,{}),(0,i.jsx)(a.Z,{goToTop:!0,goBack:!0,children:e.children})]})}},99086:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/web/solar-system",function(){return t(53622)}])},96865:function(e){e.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}},10534:function(e){e.exports={antdHeader:"nav_antdHeader__eCvl0",header:"nav_header__y1mlw",headerLeft:"nav_headerLeft__PrT7_",headerRight:"nav_headerRight__JfqYP",navList:"nav_navList__3HXot",navListItem:"nav_navListItem__hpAdz",switchAddress:"nav_switchAddress__sVzqD",githubLink:"nav_githubLink__BDzSl",switchAddressIcon:"nav_switchAddressIcon__KLxGG"}},68795:function(e){e.exports={canvasBox:"solarSystem_canvasBox__dZoSl"}},92381:function(e,n,t){e.exports=t(13)},97305:function(e,n,t){"use strict";var s=t(59331);e.exports=s},27154:function(e,n,t){"use strict";t(45887),e.exports=t(5685)},13:function(e,n,t){"use strict";e.exports=t(30934)},30934:function(e,n,t){"use strict";t(26729);var s=t(97305);e.exports=s},45887:function(e,n,t){"use strict";var s=t(74715),r=t(5685);s({global:!0,forced:r.globalThis!==r},{globalThis:r})},26729:function(e,n,t){"use strict";t(45887)},59331:function(e,n,t){"use strict";var s=t(27154);e.exports=s},33938:function(e,n,t){"use strict";t.d(n,{Z:function(){return _asyncToGenerator}});var s=t(890);function asyncGeneratorStep(e,n,t,r,a,i,o){try{var c=e[i](o),l=c.value}catch(e){t(e);return}c.done?n(l):s.resolve(l).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new s(function(s,r){var a=e.apply(n,t);function _next(e){asyncGeneratorStep(a,s,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(a,s,r,_next,_throw,"throw",e)}_next(void 0)})}}}},function(e){e.O(0,[4322,1447,9166,9774,2888,179],function(){return e(e.s=99086)}),_N_E=e.O()}]);