(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1263],{69694:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/web/linear-gradient-animate",function(){return t(45684)}])},45684:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return C}});var o=t(85893),r=t(67294),s=t(9008),i=t.n(s),l=t(92817),a=t(51824),f=t.n(a),u=t(12424),c=t(93967),d=t.n(c),m=t(70476),p=t.n(m);let{Title:x,Paragraph:g}=l.default;function b(n){let e=(0,r.useRef)(null),t=(0,r.useRef)(null),s=(0,r.useRef)(null),i=(0,r.useId)().replace(/:/g,""),l=[`${i}-linear-gradient-0`,`${i}-linear-gradient-1`,`${i}-linear-gradient-2`,`${i}-linear-gradient-3`],a=`${i}_svg`,f=[{from:"#13f5ff",to:"#fff713"},{from:"#0017c0",to:"#ff0005"}],u=[{from:"#ff00ff",to:"#4dff27"},{from:"#f9ff7c",to:"#b29fff"}],c={attributeName:"stop-color",dur:".3s",repeatCount:1,fill:"freeze"};return(0,o.jsxs)("svg",{ref:e,className:"block w-full h-full",id:a,xmlns:"http://www.w3.org/2000/svg",version:"1.1",onMouseOver:function(n){setTimeout(function(){t.current.setAttribute("fill",`url(#${l[0]})`),s.current.setAttribute("fill",`url(#${l[2]})`)},0)},onMouseOut:function(n){setTimeout(function(){t.current.setAttribute("fill",`url(#${l[1]})`),s.current.setAttribute("fill",`url(#${l[3]})`)},0)},children:[(0,o.jsxs)("linearGradient",{id:l[0],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,o.jsx)("stop",{offset:"0",stopColor:f[0].from,children:(0,o.jsx)("animate",{begin:`${a}.mouseover`,...f[0],...c})}),(0,o.jsx)("stop",{offset:"100%",stopColor:f[1].from,children:(0,o.jsx)("animate",{begin:`${a}.mouseover`,...f[1],...c})})]}),(0,o.jsxs)("linearGradient",{id:l[1],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,o.jsx)("stop",{offset:"0",stopColor:f[0].to,children:(0,o.jsx)("animate",{begin:`${a}.mouseout`,from:f[0].to,to:f[0].from,...c})}),(0,o.jsx)("stop",{offset:"100%",stopColor:f[1].to,children:(0,o.jsx)("animate",{begin:`${a}.mouseout`,from:f[1].to,to:f[1].from,...c})})]}),(0,o.jsxs)("linearGradient",{id:l[2],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,o.jsx)("stop",{offset:"0",stopColor:u[0].from,children:(0,o.jsx)("animate",{begin:`${a}.mouseover`,...u[0],...c})}),(0,o.jsx)("stop",{offset:"100%",stopColor:u[1].from,children:(0,o.jsx)("animate",{begin:`${a}.mouseover`,...u[1],...c})})]}),(0,o.jsxs)("linearGradient",{id:l[3],x1:"0",y1:"0",x2:"100%",y2:"100%",children:[(0,o.jsx)("stop",{offset:"0",stopColor:u[0].to,children:(0,o.jsx)("animate",{begin:`${a}.mouseout`,from:u[0].to,to:u[0].from,...c})}),(0,o.jsx)("stop",{offset:"100%",stopColor:u[1].to,children:(0,o.jsx)("animate",{begin:`${a}.mouseout`,from:u[1].to,to:u[1].from,...c})})]}),(0,o.jsxs)("g",{children:[(0,o.jsx)("rect",{ref:t,className:"w-full h-full",fill:`url(#${l[0]})`}),(0,o.jsx)("text",{ref:s,className:d()("pointer-events-none",p().buttonText),x:"50%",y:"50%",fill:`url(#${l[2]})`,children:"Button"})]})]})}var h=function(n){return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsx)(x,{level:2,children:"代码演示"}),(0,o.jsxs)(g,{children:["实现的效果：",(0,o.jsx)("button",{className:p().button,type:"button","aria-label":"具有渐变效果的按钮",children:(0,o.jsx)(b,{})})]})]})},j=t(11151);function v(n){let e={code:"code",pre:"pre",...(0,j.a)(),...n.components};return(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <style>\n    .btn {\n      padding: 0;\n      width: 120px;\n      height: 50px;\n      font-size: 26px;\n      background-color: transparent;\n      border: none;\n      outline: none;\n      cursor: pointer;\n    }\n\n    .space {\n      width: 100%;\n      height: 100%;\n    }\n\n    .btn-text {\n      pointer-events: none;\n    }\n\n    .svg {\n      display: block;\n    }\n  </style>\n</head>\n<body>\n<button class="btn" type="button">\n  <svg class="space svg" id="svg" xmlns="http://www.w3.org/2000/svg" version="1.1">\n    <!-- 过渡动画模板1，过渡动画 -->\n    <linearGradient id="linear_gradient_0" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#13f5ff">\n        <animate attributeName="stop-color"\n          from="#13f5ff"\n          to="#fff713"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#0017c0">\n        <animate attributeName="stop-color"\n          from="#0017c0"\n          to="#ff0005"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n    </linearGradient>\n\n    <!-- 过渡动画模板2，还原动画 -->\n    <linearGradient id="linear_gradient_1" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#fff713">\n        <animate attributeName="stop-color"\n          from="#fff713"\n          to="#13f5ff"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#ff0005">\n        <animate attributeName="stop-color"\n          from="#ff0005"\n          to="#0017c0"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n    </linearGradient>\n\n    <!-- 文字动画1 -->\n    <linearGradient id="linear_gradient_2" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#ff00ff">\n        <animate attributeName="stop-color"\n          from="#ff00ff"\n          to="#4dff27"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#f9ff7c">\n        <animate attributeName="stop-color"\n          from="#f9ff7c"\n          to="#b29fff"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseover"\n        />\n      </stop>\n    </linearGradient>\n\n    <!-- 文字动画2，还原动画 -->\n    <linearGradient id="linear_gradient_3" x1="0" y1="0" x2="100%" y2="100%">\n      <stop offset="0" stop-color="#4dff27">\n        <animate attributeName="stop-color"\n          from="#4dff27"\n          to="#ff00ff"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n      <stop offset="100%" stop-color="#b29fff">\n        <animate attributeName="stop-color"\n          from="#b29fff"\n          to="#f9ff7c"\n          dur=".3s"\n          repeatCount="1"\n          fill="freeze"\n          begin="svg.mouseout"\n        />\n      </stop>\n    </linearGradient>\n\n    <g>\n      <rect class="space" id="background-rect" fill="url(#linear_gradient_0)" />\n      <text class="btn-text"\n        id="background-text"\n        x="50%"\n        y="50%"\n        text-anchor="middle"\n        dominant-baseline="middle"\n        fill="url(#linear_gradient_2)"\n      >\n        Button\n      </text>\n    </g>\n\n    <!-- 脚本 -->\n    <script type="text/javascript">\n      <![CDATA[\n      const svg = document.getElementById(\'svg\'),\n        rect = document.getElementById(\'background-rect\'),\n        text = document.getElementById(\'background-text\');\n\n      // 鼠标移入时\n      function handleBackgroundMouseOver(event) {\n        // 使用setTimeout防止动画闪烁\n        setTimeout(function() {\n          rect.setAttribute(\'fill\', \'url(#linear_gradient_0)\');\n          text.setAttribute(\'fill\', \'url(#linear_gradient_2)\');\n        }, 0);\n      }\n\n      // 鼠标移出时\n      function handleBackgroundMouseOut(event) {\n        // 使用setTimeout防止动画闪烁\n        setTimeout(function() {\n          rect.setAttribute(\'fill\', \'url(#linear_gradient_1)\');\n          text.setAttribute(\'fill\', \'url(#linear_gradient_3)\');\n        }, 0);\n      }\n\n      svg.addEventListener(\'mouseover\', handleBackgroundMouseOver, false);\n      svg.addEventListener(\'mouseout\', handleBackgroundMouseOut, false);\n      // ]]>\n    </script>\n  </svg>\n</button>\n</body>\n</html>\n'})})}function _(n={}){let{wrapper:e}={...(0,j.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(v,{...n})}):v(n)}let{Title:y,Paragraph:T,Text:N}=l.default;var w=function(n){return(0,o.jsxs)(u.Z,{children:[(0,o.jsx)(y,{children:"使用SVG，让渐变的背景也能动起来"}),(0,o.jsxs)(T,{children:["当背景是渐变色时，如果想实现过渡动画。直接使用css的",(0,o.jsx)(N,{className:f().textWarning,type:"warning",children:"transition"}),"是不行的。所以考虑使用svg来实现功能。"]}),(0,o.jsx)(h,{}),(0,o.jsx)(y,{level:2,children:"实现代码"}),(0,o.jsx)(_,{})]})};function C(n){return(0,o.jsxs)(r.Fragment,{children:[(0,o.jsxs)(i(),{children:[(0,o.jsx)("title",{children:"使用SVG，让渐变的背景也能动起来"}),(0,o.jsx)("meta",{name:"keywords",content:"前端, SVG"}),(0,o.jsx)("meta",{name:"description",content:"使用SVG，让渐变的背景也能动起来"})]}),(0,o.jsx)(w,{})]})}},11035:function(n,e,t){"use strict";var o=t(85893),r=t(73935),s=t(39332),i=t(57140),l=t(44594),a=t(84669),f=t(85486),u=t(76467),c=t(45212),d=t.n(c);let{BackTop:m}=i.default;e.Z=function(n){let e=(0,s.useRouter)();return[(0,o.jsxs)("div",{className:d().main,children:[n.goBack?(0,o.jsx)("div",{className:"mb-[16px] text-right",children:(0,o.jsxs)(l.ZP,{onClick:function(n){e.push("/")},children:[(0,o.jsx)(f.Z,{className:"mr-[6px]"}),"返回"]})}):null,n?.children]},"main"),n?.goToTop?(0,o.jsx)(u.default,{children:"object"==typeof document?(0,r.createPortal)((0,o.jsx)(m,{type:"primary",icon:(0,o.jsx)(a.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop"):null]}},12424:function(n,e,t){"use strict";var o=t(85893),r=t(11035);e.Z=function(n){return(0,o.jsx)(r.Z,{goToTop:!0,goBack:!0,children:n.children})}},45212:function(n){n.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}},51824:function(n){n.exports={textWarning:"article_textWarning__aYEh3"}},70476:function(n){n.exports={button:"demo_button__EP0sa",buttonText:"demo_buttonText__WWDpd"}}},function(n){n.O(0,[4594,2409,2888,9774,179],function(){return n(n.s=69694)}),_N_E=n.O()}]);