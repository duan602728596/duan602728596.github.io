(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5933],{99086:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/web/solar-system",function(){return s(73540)}])},73540:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return _}});var t=s(85893),a=s(67294),i=s(9008),r=s.n(i),o=s(92817),l=s(44594),m=s(93967),u=s.n(m),c=s(42696),p=s.n(c),g=s(12424),d=s(74553),x=function(e,n){if(!document.getElementById(n))return new Promise((s,t)=>{let a=document.createElement("script");a.addEventListener("load",function e(){s(),a.removeEventListener("load",e),a=null}),a.id=n,a.src=e,a.dataset.loadType="manual",document.head.appendChild(a)})};let{Title:h,Paragraph:y}=o.default;async function j(){let e=new Go,n=await WebAssembly.instantiateStreaming(fetch("/scripts/solar-system.wasm"),e.importObject);e.run(n.instance);let{__SOLAR_SYSTEM__:s}=globalThis,t=[{name:"mercury",map:"/images/solar-system/shuixing.jpg",r:1,position:{x:0,y:0,z:70}},{name:"venus",map:"/images/solar-system/jinxing.jpg",r:2,position:{x:0,y:0,z:84}},{name:"earth",map:"/images/solar-system/diqiu.jpg",r:4,position:{x:0,y:0,z:110}},{name:"mars",map:"/images/solar-system/huoxing.jpg",r:5,position:{x:0,y:0,z:140}},{name:"jupiter",map:"/images/solar-system/muxing.jpg",r:17,position:{x:0,y:0,z:220}},{name:"saturn",map:"/images/solar-system/tuxing.jpg",r:11,position:{x:0,y:0,z:280}},{name:"uranus",map:"/images/solar-system/tianwangxing.jpg",r:9,position:{x:0,y:0,z:350}},{name:"neptune",map:"/images/solar-system/haiwangxing.jpg",r:6,position:{x:0,y:0,z:400}}],a={sun:{material:"/images/solar-system/taiyang.jpg"},planets:t,rings:[{name:"saturnRing",father:"saturn",map:"/images/solar-system/tuxing_huan.jpg",r:{min:14,max:22},rotation:{x:.5,y:0,z:0}},{name:"uranusRing",father:"uranus",map:"/images/solar-system/tianwangxing_huan.jpg",r:{min:10,max:12},rotation:{x:0,y:0,z:.3}}],rotations:[{name:"sun",rot:.01,rev:0,deg:0,l:0},{name:"mercury",rot:.1,rev:.1,deg:0,l:t[0].position.z},{name:"venus",rot:.05,rev:.07,deg:0,l:t[1].position.z},{name:"earth",rot:.05,rev:.03,deg:0,l:t[2].position.z},{name:"mars",rot:.03,rev:.01,deg:0,l:t[3].position.z},{name:"jupiter",rot:.003,rev:.002,deg:0,l:t[4].position.z},{name:"saturn",rot:.01,rev:9e-4,deg:0,l:t[5].position.z},{name:"saturnRing",rot:.01,rev:9e-4,deg:0,l:t[5].position.z},{name:"uranus",rot:.005,rev:5e-4,deg:0,l:t[6].position.z},{name:"uranusRing",rot:.005,rev:5e-4,deg:0,l:t[6].position.z},{name:"neptune",rot:.003,rev:3e-4,deg:0,l:t[7].position.z}],bg:["/images/solar-system/bg0.jpg","/images/solar-system/bg1.jpg"]};s.SolarSystem(THREE,"solar",a)}globalThis.__SOLAR_SYSTEM__={};var f=function(e){let n=(0,a.useRef)(null);async function s(e){let s=n.current;s.requestFullscreen?await s.requestFullscreen():s.webkitRequestFullscreen?await s.webkitRequestFullscreen():s.mozRequestFullscreen?await s.mozRequestFullscreen():s.msRequestFullscreen&&await s.msRequestFullscreen()}async function i(){await Promise.all([x("/scripts/tinygo_wasm_exec.min.js","tinygo_wasm_exec"),x("/scripts/three.min.js","three")]),await x("/scripts/OrbitControls.js","three-orbitControls"),j()}return(0,a.useEffect)(function(){"undefined"==typeof Go&&"undefined"==typeof THREE?i():j()},[]),(0,t.jsxs)(g.Z,{children:[(0,t.jsx)(h,{children:"基于Three.js + wasm开发的太阳系动画"}),(0,t.jsxs)(y,{children:["太阳系动画。基于Three.js和wasm开发。",(0,t.jsx)(d.Z,{href:"https://github.com/duan602728596/duan602728596.github.io/tree/dev/solar-system",children:"（代码）"})]}),(0,t.jsx)("div",{className:"mb-[16px] text-right",children:(0,t.jsx)(l.ZP,{type:"primary",onClick:s,children:"全屏运行"})}),(0,t.jsx)("div",{ref:n,className:u()("h-[400px]",p().canvasBox),id:"solar"})]})};function _(e){return(0,t.jsxs)(a.Fragment,{children:[(0,t.jsxs)(r(),{children:[(0,t.jsx)("title",{children:"基于Three.js + wasm开发的太阳系动画"}),(0,t.jsx)("meta",{name:"keywords",content:"前端, js, javascript, typescript, three.js, wasm"}),(0,t.jsx)("meta",{name:"description",content:"基于Three.js + wasm开发的太阳系动画"})]}),(0,t.jsx)(f,{})]})}},11035:function(e,n,s){"use strict";var t=s(85893),a=s(73935),i=s(45697),r=s.n(i),o=s(39332),l=s(57140),m=s(44594),u=s(84669),c=s(85486),p=s(76467),g=s(45212),d=s.n(g);let{BackTop:x}=l.default;function h(e){let n=(0,o.useRouter)();return[(0,t.jsxs)("div",{className:d().main,children:[e.goBack?(0,t.jsx)("div",{className:"mb-[16px] text-right",children:(0,t.jsxs)(m.ZP,{onClick:function(e){n.push("/")},children:[(0,t.jsx)(c.Z,{className:"mr-[6px]"}),"返回"]})}):null,e?.children]},"main"),e?.goToTop?(0,t.jsx)(p.default,{children:"object"==typeof document?(0,a.createPortal)((0,t.jsx)(x,{type:"primary",icon:(0,t.jsx)(u.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop"):null]}h.propTypes={children:r().node,goToTop:r().bool,goBack:r().bool},n.Z=h},12424:function(e,n,s){"use strict";var t=s(85893),a=s(45697),i=s.n(a),r=s(11035);function o(e){return(0,t.jsx)(r.Z,{goToTop:!0,goBack:!0,children:e.children})}o.propTypes={children:i().node},n.Z=o},45212:function(e){e.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}},42696:function(e){e.exports={canvasBox:"solarSystem_canvasBox__dZoSl"}}},function(e){e.O(0,[4594,2409,2888,9774,179],function(){return e(e.s=99086)}),_N_E=e.O()}]);