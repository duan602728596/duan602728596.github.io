(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4880],{94633:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return nt}});var a=r(67294),t=r(9008),l=r.n(t),c=r(76315),o=r(55147),s=r(62079),i=r.n(s),u=r(52020),h=r.n(u),p=r(73324),d=r.n(p),m=r(88546),f=r.n(m),g=r(99595),j=r.n(g),v=r(66775),x=r.n(v),b=r(2201),_=r.n(b),w=r(57445),q=r.n(w),N=r(44845),L=r(85893),y=r(11151);function Z(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function S(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=Z(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=Z(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function k(n){var e=S(S({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-javascript",children:"import { graphql, buildSchema } from 'graphql';\n\nconst schema = buildSchema(/* GraphQL */ `\n  type Query {\n    hello: String\n  }\n`);\nconst root = { hello: () => 'Hello world!' };\n\nconst response = await graphql({\n  schema,\n  source: /* GraphQL */ `\n    {\n      hello\n    }\n  `,\n  rootValue: root\n});\n\nconsole.log(response);\n"})})}function T(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=S(S({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,S(S({},n),{},{children:(0,L.jsx)(k,S({},n))})):k(n)}function O(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function Q(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=O(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=O(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function G(n){var e=Q(Q({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-graphql",children:"#import './human.graphql'\n\ntype Query {\n    hello: String\n    human(age: Int): Human\n}\n"})})}function R(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Q(Q({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,Q(Q({},n),{},{children:(0,L.jsx)(G,Q({},n))})):G(n)}function I(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function A(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=I(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=I(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function H(n){var e=A(A({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-graphql",children:"type Human {\n    name: String\n    age: Int\n}\n"})})}function C(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=A(A({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,A(A({},n),{},{children:(0,L.jsx)(H,A({},n))})):H(n)}function P(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function E(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=P(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=P(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function U(n){var e=E(E({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-javascript",children:"import { URL } from 'node:url';\nimport { loadSchema } from '@graphql-tools/load';\nimport { GraphQLFileLoader } from '@graphql-tools/graphql-file-loader';\n\nexport async function getSchema(file, importMetaUrl) {\n  const urlResult = decodeURIComponent(new URL(file, importMetaUrl).pathname);\n\n  return loadSchema(urlResult, {\n    loaders: [new GraphQLFileLoader()]\n  });\n}\n"})})}function z(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=E(E({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,E(E({},n),{},{children:(0,L.jsx)(U,E({},n))})):U(n)}function B(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function F(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=B(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=B(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function V(n){var e=F(F({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-javascript",children:"import { graphql } from 'graphql';\nimport { addResolversToSchema } from '@graphql-tools/schema'\nimport { getSchema } from './utils.js';\n\nconst resolvers = {\n  Query: {\n    hello(obj, args, context, info) {\n      return '你好';\n    },\n    human(obj, args, context, info) {\n      return {\n        name: '小明',\n        age: args.age + obj.$add()\n      };\n    }\n  }\n};\nconst schema = await getSchema('./query.graphql', import.meta.url);\nconst schemaWithResolvers = addResolversToSchema({ schema, resolvers });\n\nconst response = await graphql({\n  schema: schemaWithResolvers,\n  source: /* GraphQL */ `\n    {\n      hello\n      human(age: 56) {\n        name\n        age\n      }\n    }\n  `,\n  rootValue: {\n    $add() {\n      return 32;\n    }\n  }\n});\n\nconsole.log(response.data);\n"})})}function X(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=F(F({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,F(F({},n),{},{children:(0,L.jsx)(V,F({},n))})):V(n)}function $(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function D(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=$(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=$(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function M(n){var e=D(D({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-javascript",children:"export default {\n  mode: 'development',\n  module: {\n    rules: [\n      {\n        test: /^.*\\.(gql|graphql)$/,\n        loader: '@graphql-tools/webpack-loader',\n        options: {\n          importHelpers: true\n        }\n      }\n    ]\n  }\n};\n"})})}function W(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=D(D({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,D(D({},n),{},{children:(0,L.jsx)(M,D({},n))})):M(n)}function J(n,e){var r=i()(n);if(h()){var a=h()(n);e&&(a=d()(a).call(a,function(e){return f()(n,e).enumerable})),r.push.apply(r,a)}return r}function K(n){for(var e=1;e<arguments.length;e++){var r,a,t=null!=arguments[e]?arguments[e]:{};e%2?j()(r=J(Object(t),!0)).call(r,function(e){(0,N.Z)(n,e,t[e])}):x()?_()(n,x()(t)):j()(a=J(Object(t))).call(a,function(e){q()(n,e,f()(t,e))})}return n}function Y(n){var e=K(K({code:"code",pre:"pre"},(0,y.a)()),n.components);return(0,L.jsx)(e.pre,{children:(0,L.jsx)(e.code,{className:"language-javascript",children:"import { graphql, buildASTSchema } from 'graphql';\nimport query from './query.graphql';\n\nconst root = {\n  hello() {\n    return '你好';\n  },\n  human() {\n    return {\n      name: '小明',\n      age: 14\n    };\n  }\n}\n\ngraphql({\n  schema: buildASTSchema(query),\n  source: /* GraphQL */ `\n    {\n        hello\n        human {\n            name\n            age\n        }\n    }\n  `,\n  rootValue: root\n}).then((response) => {\n  console.log(response);\n});\n"})})}function nn(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=K(K({},(0,y.a)()),n.components).wrapper;return e?(0,L.jsx)(e,K(K({},n),{},{children:(0,L.jsx)(Y,K({},n))})):Y(n)}var ne=c.Z.Title,nr=c.Z.Paragraph,na=function(n){return(0,L.jsxs)(o.Z,{children:[(0,L.jsx)(ne,{children:"如何使用GraphQL"}),(0,L.jsx)(ne,{level:2,children:"快速开始"}),(0,L.jsx)(nr,{children:"通过下面的代码，我们可以快速使用GraphQL实现查询。"}),(0,L.jsx)(T,{}),(0,L.jsx)(ne,{level:2,children:"使用graphql-tools"}),(0,L.jsx)(nr,{children:"我们可以使用graphql-tools来使用GraphQL。"}),(0,L.jsx)(nr,{children:"首先我们先创建两个GraphQL文件。"}),(0,L.jsx)(ne,{level:3,children:"query.graphql"}),(0,L.jsx)(R,{}),(0,L.jsx)(ne,{level:3,children:"human.graphql"}),(0,L.jsx)(C,{}),(0,L.jsx)(nr,{children:"创建一个方法，用于加载GraphQL文件。"}),(0,L.jsx)(z,{}),(0,L.jsx)(nr,{children:"实现查询。"}),(0,L.jsx)(X,{}),(0,L.jsx)(ne,{level:2,children:"webpack配置"}),(0,L.jsx)(nr,{children:"如果要通过webpack来配置使用，首先要配置loader。"}),(0,L.jsx)(W,{}),(0,L.jsx)(nr,{children:"然后在项目中使用。"}),(0,L.jsx)(nn,{})]})};function nt(n){return(0,L.jsxs)(a.Fragment,{children:[(0,L.jsx)(l(),{children:(0,L.jsx)("title",{children:"如何使用GraphQL"})}),(0,L.jsx)(na,{})]})}},39243:function(n,e,r){"use strict";var a=r(19623),t=r(73935),l=r(11163),c=r(81860),o=r(18610),s=r(75162),i=r(6171),u=r(76467),h=r(63791),p=r.n(h),d=r(85893),m=c.Z.BackTop;e.Z=function(n){var e=(0,l.useRouter)();return[(0,d.jsxs)("div",{className:p().main,children:[n.goBack?(0,d.jsx)("div",{className:"mb-[16px] text-right",children:(0,d.jsxs)(o.ZP,{onClick:function(n){e.push("/")},children:[(0,d.jsx)(i.Z,{className:"mr-[6px]"}),"返回"]})}):null,null==n?void 0:n.children]},"main"),(0,d.jsx)(u.default,{children:null!=n&&n.goToTop&&("undefined"==typeof document?"undefined":(0,a.Z)(document))==="object"?(0,t.createPortal)((0,d.jsx)(m,{type:"primary",icon:(0,d.jsx)(s.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop")]}},31725:function(n,e,r){"use strict";r(64043);var a=r(88946),t=r.n(a),l=r(81290),c=r.n(l),o=r(41664),s=r.n(o),i=r(21612),u=r(78957),h=r(83062),p=r(67337),d=r(32958),m=r.n(d),f=r(96808),g=r(85893),j=[{href:"/",title:"文章"},{href:"/favorites",title:"收藏夹"},{href:"/project",title:"开源项目"}],v=["github.io","vercel.app"],x=t()(j).call(j,function(n,e){return(0,g.jsx)("li",{className:m().navListItem,children:(0,g.jsx)(s(),{href:n.href,children:n.title})},n.href)});e.Z=function(n){return(0,g.jsx)(i.Z.Header,{className:m().antdHeader,children:(0,g.jsxs)("div",{className:m().header,children:[(0,g.jsx)("nav",{className:m().headerLeft,children:(0,g.jsx)("ul",{className:m().navList,children:x})}),(0,g.jsx)("div",{className:m().headerRight,children:(0,g.jsxs)(u.Z,{size:16,children:[(0,g.jsx)(h.Z,{title:"切换网站地址",children:(0,g.jsx)("a",{className:m().switchAddress,role:"button",tabIndex:0,"aria-label":"切换网站地址",onClick:function(n){var e=window.location,r=e.pathname,a=e.hostname,t=/github\.io/.test(a);window.location.href=new(c())(r,"https://duan602728596.".concat(v[t?1:0],"/"))},children:(0,g.jsx)(p.Z,{className:m().switchAddressIcon})})}),(0,g.jsx)("a",{className:m().githubLink,href:"https://github.com/duan602728596",target:"_blank",rel:"noopener noreferrer",children:(0,g.jsx)(f.Z,{className:"block w-full h-full",imageClassName:"block w-full h-full",avifSrc:"/images/github.avif",webpSrc:"/images/github.webp",src:"/images/github.png",alt:"github"})})]})})]})})}},96808:function(n,e,r){"use strict";var a=r(85893);e.Z=function(n){var e=n.className,r=n.imageClassName,t=n.avifSrc,l=n.webpSrc,c=n.src,o=n.alt;return(0,a.jsxs)("picture",{className:e,children:[t&&(0,a.jsx)("source",{srcSet:t,type:"image/avif"}),l&&(0,a.jsx)("source",{srcSet:l,type:"image/webp"}),(0,a.jsx)("img",{className:r,src:c,alt:o})]})}},55147:function(n,e,r){"use strict";var a=r(67294),t=r(31725),l=r(39243),c=r(85893);e.Z=function(n){return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(t.Z,{}),(0,c.jsx)(l.Z,{goToTop:!0,goBack:!0,children:n.children})]})}},23641:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/web/how-to-use-graphql",function(){return r(94633)}])},63791:function(n){n.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}},32958:function(n){n.exports={antdHeader:"nav_antdHeader__eCvl0",header:"nav_header__y1mlw",headerLeft:"nav_headerLeft__PrT7_",headerRight:"nav_headerRight__JfqYP",navList:"nav_navList__3HXot",navListItem:"nav_navListItem__hpAdz",switchAddress:"nav_switchAddress__sVzqD",githubLink:"nav_githubLink__BDzSl",switchAddressIcon:"nav_switchAddressIcon__KLxGG"}}},function(n){n.O(0,[8610,1447,4530,9774,2888,179],function(){return n(n.s=23641)}),_N_E=n.O()}]);