(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4199],{34530:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return f}});var r=s(67294),t=s(9008),i=s.n(t),a=s(9991),c=(s(71214),s(63534)),l=s(67552),d=s.n(l),h=s(85893),o=s(11151),m=c.Z.Text;function u(e){var n=d()({h1:"h1",h2:"h2",p:"p",pre:"pre",code:"code"},(0,o.ah)(),e.components);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.h1,{children:"FFmpeg\u5e38\u7528\u7684\u547d\u4ee4"}),"\n",(0,h.jsx)(n.h2,{children:"1\u3001\u5728\u4e0b\u8f7d\u89c6\u9891\u65f6\u6dfb\u52a0Headers"}),"\n",(0,h.jsxs)(n.p,{children:["\u901a\u8fc7\n",(0,h.jsx)(m,{code:!0,children:"-headers"}),"\u53c2\u6570\u53ef\u4ee5\u5728\u4e0b\u8f7d\u89c6\u9891\u65f6\u6dfb\u52a0Headers\uff0cheader\u4e4b\u95f4\u7528\n",(0,h.jsx)(m,{children:"\\r\\n"}),"\u5206\u9694\u3002\u4f8b\u5982\uff1a"]}),"\n",(0,h.jsx)(n.pre,{children:(0,h.jsx)(n.code,{className:"language-bash",children:'ffmpeg -headers "Referer: https://video.com/\\r\\nHost: video.com\\r\\n" -i https://video.com/1.mp4 -c copy 1.mp4\n'})}),"\n",(0,h.jsx)(n.p,{children:"\u5982\u679c\u89c6\u9891\u683c\u5f0f\u662fm3u8\uff0c\u5219headers\u53ea\u5bf9m3u8\u6587\u4ef6\u6709\u6548\uff0c\u5bf9\u5207\u7247\u7684ts\u6587\u4ef6\u65e0\u6548\u3002"}),"\n",(0,h.jsx)(n.h2,{children:"2\u3001\u4e0b\u8f7d\u672c\u5730m3u8\u6587\u4ef6"}),"\n",(0,h.jsxs)(n.p,{children:["\u5f53m3u8\u4e3a\u672c\u5730\u6587\u4ef6\u65f6\uff0c\u901a\u8fc7\n",(0,h.jsx)(m,{code:!0,children:"-protocol_whitelist"}),"\u53c2\u6570\u6dfb\u52a0\u534f\u8bae\u7684\u767d\u540d\u5355\uff0c\u53ef\u4ee5\u6b63\u5e38\u4e0b\u8f7d\u89c6\u9891\u3002\u4f8b\u5982\uff1a"]}),"\n",(0,h.jsx)(n.pre,{children:(0,h.jsx)(n.code,{className:"language-bash",children:'ffmpeg -protocol_whitelist "file,http,https,tcp,tls" -i c:\\video\\1.m3u8 -c copy 1.mp4\n'})}),"\n",(0,h.jsx)(n.h2,{children:"3\u3001\u89c6\u9891\u88c1\u526a"}),"\n",(0,h.jsxs)(n.p,{children:["\u901a\u8fc7\n",(0,h.jsx)(m,{code:!0,children:"-ss"}),"\u548c\n",(0,h.jsx)(m,{code:!0,children:"-t"}),"\u53c2\u6570\u6765\u88c1\u526a\u89c6\u9891\u3002\u4f8b\u5982\uff1a"]}),"\n",(0,h.jsx)(n.pre,{children:(0,h.jsx)(n.code,{className:"language-bash",children:"ffmpeg -ss 00:00:10 -t 00:00:10 -accurate_seek -i 1.mp4 --avoid_negative_ts 1 1_cut.mp4\n"})}),"\n",(0,h.jsxs)(n.p,{children:["\u547d\u4ee4\u7684\u5177\u4f53\u529f\u80fd\u53ef\u4ee5\u5728\n",(0,h.jsx)("a",{href:"https://ffmpeg.org/ffmpeg-all.html",target:"_blank",rel:"noopener noreferrer",children:"FFmpeg Documentation"}),"\u627e\u5230\u3002"]}),"\n",(0,h.jsx)(n.p,{children:"\u5bf9\u4e8e\u89c6\u9891\u65f6\u957f\u7684\u8ba1\u7b97\u53ef\u4ee5\u4f7f\u7528\u8fd9\u6bb5\u4ee3\u7801\uff1a"}),"\n",(0,h.jsx)(n.pre,{children:(0,h.jsx)(n.code,{className:"language-typescript",children:"type Time = [number, number, number];\n\n/**\n * \u8ba1\u7b97\u65f6\u95f4\u5dee\n * @param { Time } startTime: \u5f00\u59cb\u65f6\u95f4\n * @param { Time } endTime  : \u7ed3\u675f\u65f6\u95f4\n * @return { Time }\n */\nfunction computingTime(startTime: Time, endTime: Time): Time {\n  const startS: number = (startTime[0] * 3600) + (startTime[1] * 60) + startTime[2]; // \u5f00\u59cb\u65f6\u95f4\u8f6c\u6362\u5230\u79d2\n  const endS: number = (endTime[0] * 3600) + (endTime[1] * 60) + endTime[2];         // \u7ed3\u675f\u65f6\u95f4\u8f6c\u6362\u5230\u79d2\n  const cha: number = endS - startS;                                                 // \u8ba1\u7b97\u65f6\u95f4\u5dee\n  const h: number = Number(`${ cha / 3600 }`.match(/\\d+/g)![0]);                     // \u65f6\u53d6\u6574\u6570\n  const hp: number = cha % 3600;                                                     // \u65f6\u53d6\u4f59\n  const m: number = Number(`${ hp / 60 }`.match(/\\d+/g)![0]);                        // \u5206\u53d6\u6574\u6570\n  const s: number = hp % 60;                                                         // \u5206\u53d6\u4f59 => \u79d2\n\n  return [h, m, s];\n}\n"})}),"\n",(0,h.jsx)(n.h2,{children:"4\u3001\u89c6\u9891\u5408\u5e76"}),"\n",(0,h.jsx)(n.p,{children:"\u9996\u5148\u521b\u5efa\u4e00\u4e2atxt\u6587\u4ef6\uff0c\u5199\u5165\u8981\u5408\u5e76\u7684\u6587\u4ef6\u3002"}),"\n",(0,h.jsx)(n.pre,{children:(0,h.jsx)(n.code,{children:"file '1.mp4'\nfile '2.mp4'\nfile '3.mp4'\n"})}),"\n",(0,h.jsx)(n.p,{children:"\u7136\u540e\u6267\u884c\u547d\u4ee4\uff1a"}),"\n",(0,h.jsx)(n.pre,{children:(0,h.jsx)(n.code,{className:"language-bash",children:"ffmpeg -f concat -safe 0 -i list.txt -c copy 1.mp4\n"})})]})}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=d()({},(0,o.ah)(),e.components),s=n.wrapper;return s?(0,h.jsx)(s,d()({},e,{children:(0,h.jsx)(u,e)})):u(e)};var x=function(e){return(0,h.jsx)(a.Z,{children:(0,h.jsx)(p,{})})};function f(e){return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(i(),{children:[(0,h.jsx)("title",{children:"FFmpeg\u5e38\u7528\u7684\u547d\u4ee4"}),(0,h.jsx)("meta",{name:"keywords",content:"\u89c6\u9891, \u5a92\u4f53, FFmpeg"}),(0,h.jsx)("meta",{name:"description",content:"FFmpeg\u5e38\u7528\u7684\u547d\u4ee4"})]}),(0,h.jsx)(x,{})]})}},39748:function(e,n,s){"use strict";s(54633);var r=s(72806),t=(s(56091),s(53308)),i=s(19623),a=s(73935),c=s(11163),l=s(6171),d=s(76467),h=s(97680),o=s.n(h),m=s(85893);n.Z=function(e){var n=(0,c.useRouter)();return[(0,m.jsxs)("div",{className:o().main,children:[e.goBack?(0,m.jsx)("div",{className:"mb-[16px] text-right",children:(0,m.jsxs)(r.Z,{onClick:function(e){n.push("/")},children:[(0,m.jsx)(l.Z,{className:"mr-[6px]"}),"\u8fd4\u56de"]})}):null,null===e||void 0===e?void 0:e.children]},"main"),(0,m.jsx)(d.default,{children:null!==e&&void 0!==e&&e.goToTop&&"object"===("undefined"===typeof document?"undefined":(0,i.Z)(document))?(0,a.createPortal)((0,m.jsx)(t.Z,{title:"\u8fd4\u56de\u9876\u90e8",tabIndex:0,role:"button","aria-label":"\u8fd4\u56de\u9876\u90e8",children:(0,m.jsx)("div",{className:o().goToTop,children:"UP"})}),document.body):null},"backTop")]}},32307:function(e,n,s){"use strict";s(86230);var r=s(97183),t=(s(2042),s(26713)),i=(s(20559),s(84908)),a=(s(74916),s(88946)),c=s.n(a),l=s(81290),d=s.n(l),h=s(41664),o=s.n(h),m=s(67337),u=s(56392),p=s.n(u),x=s(2013),f=s(85893),j=[{href:"/",title:"\u6587\u7ae0"},{href:"/favorites",title:"\u6536\u85cf\u5939"},{href:"/project",title:"\u5f00\u6e90\u9879\u76ee"}],g=["github.io","vercel.app"],v=c()(j).call(j,(function(e,n){return(0,f.jsx)("li",{className:p().navListItem,children:(0,f.jsx)(o(),{href:e.href,children:e.title})},e.href)}));n.Z=function(e){return(0,f.jsx)(r.Z.Header,{className:p().antdHeader,children:(0,f.jsxs)("div",{className:p().header,children:[(0,f.jsx)("nav",{className:p().headerLeft,children:(0,f.jsx)("ul",{className:p().navList,children:v})}),(0,f.jsx)("div",{className:p().headerRight,children:(0,f.jsxs)(t.Z,{size:16,children:[(0,f.jsx)(i.Z,{title:"\u5207\u6362\u7f51\u7ad9\u5730\u5740",children:(0,f.jsx)("a",{className:p().switchAddress,role:"button",tabIndex:0,"aria-label":"\u5207\u6362\u7f51\u7ad9\u5730\u5740",onClick:function(e){var n=window.location,s=n.pathname,r=n.hostname,t=/github\.io/.test(r);window.location.href=new(d())(s,"https://duan602728596.".concat(g[t?1:0],"/"))},children:(0,f.jsx)(m.Z,{className:p().switchAddressIcon})})}),(0,f.jsx)("a",{className:p().githubLink,href:"https://github.com/duan602728596",target:"_blank",rel:"noopener noreferrer",children:(0,f.jsx)(x.Z,{className:"block w-full h-full",imageClassName:"block w-full h-full",avifSrc:"/images/github.avif",webpSrc:"/images/github.webp",src:"/images/github.png",alt:"github"})})]})})]})})}},2013:function(e,n,s){"use strict";var r=s(85893);n.Z=function(e){var n=e.className,s=e.imageClassName,t=e.avifSrc,i=e.webpSrc,a=e.src,c=e.alt;return(0,r.jsxs)("picture",{className:n,children:[t&&(0,r.jsx)("source",{srcSet:t,type:"image/avif"}),i&&(0,r.jsx)("source",{srcSet:i,type:"image/webp"}),(0,r.jsx)("img",{className:s,src:a,alt:c})]})}},9991:function(e,n,s){"use strict";var r=s(67294),t=s(32307),i=s(39748),a=s(85893);n.Z=function(e){return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(t.Z,{}),(0,a.jsx)(i.Z,{goToTop:!0,goBack:!0,children:e.children})]})}},62267:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/media/ffmpeg-command",function(){return s(34530)}])},97680:function(e){e.exports={main:"main_main__ovwFV",goToTop:"main_goToTop__Soij4"}},56392:function(e){e.exports={antdHeader:"nav_antdHeader__pc6AA",header:"nav_header__K7RoR",headerLeft:"nav_headerLeft__D5kPR",headerRight:"nav_headerRight__plZ1z",navList:"nav_navList__iDQNr",navListItem:"nav_navListItem__UblqT",switchAddress:"nav_switchAddress__vhjXS",githubLink:"nav_githubLink__1sY1n",switchAddressIcon:"nav_switchAddressIcon__e5KfQ"}}},function(e){e.O(0,[2806,542,7161,9774,2888,179],(function(){return n=62267,e(e.s=n);var n}));var n=e.O();_N_E=n}]);