(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7445],{41613:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return z}});var s=r(67294),t=r(9008),a=r.n(t),i=r(55147),c=r(62079),l=r.n(c),o=r(52020),h=r.n(o),u=r(73324),d=r.n(u),p=r(88546),m=r.n(p),x=r(99595),j=r.n(x),f=r(66775),v=r.n(f),_=r(2201),g=r.n(_),b=r(57445),N=r.n(b),w=r(44845),y=r(85893),Z=r(11151),S=r(76315),k=r(19668),T=r(18610),P=function(e){var n=(0,s.useRef)(null),r=(0,s.useRef)(null);return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsx)("h4",{children:"原版音乐：《I love you 私の君》"}),(0,y.jsx)("audio",{src:"/media/extract-accompaniment-using-spleeter/1.mp4",controls:!0}),(0,y.jsx)("h4",{className:"mt-[12px]",children:"提取后的人声和伴奏"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:"align-[21px]",children:"人声："}),(0,y.jsx)("audio",{ref:n,src:"/media/extract-accompaniment-using-spleeter/vocals.wav",controls:!0})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:"align-[21px]",children:"伴奏："}),(0,y.jsx)("audio",{ref:r,src:"/media/extract-accompaniment-using-spleeter/accompaniment.wav",controls:!0})]}),(0,y.jsxs)(T.ZP.Group,{className:"mt-[12px]",children:[(0,y.jsx)(T.ZP,{type:"primary",onClick:function(e){n.current&&r.current&&(n.current.currentTime=r.current.currentTime=0,n.current.play(),r.current.play())},children:"同时播放"}),(0,y.jsx)(T.ZP,{onClick:function(e){n.current&&r.current&&(n.current.pause(),r.current.pause())},children:"暂停"})]})]})};function L(e,n){var r=l()(e);if(h()){var s=h()(e);n&&(s=d()(s).call(s,function(n){return m()(e,n).enumerable})),r.push.apply(r,s)}return r}function I(e){for(var n=1;n<arguments.length;n++){var r,s,t=null!=arguments[n]?arguments[n]:{};n%2?j()(r=L(Object(t),!0)).call(r,function(n){(0,w.Z)(e,n,t[n])}):v()?g()(e,v()(t)):j()(s=L(Object(t))).call(s,function(n){N()(e,n,m()(t,n))})}return e}function C(e){var n=I(I({code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul"},(0,Z.a)()),e.components);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.h1,{children:"使用Spleeter提取伴奏"}),"\n",(0,y.jsxs)(n.p,{children:[(0,y.jsx)(k.Z,{href:"https://github.com/deezer/spleeter",children:"Spleeter"}),"\n是由法国在线音乐流媒体服务提供商Deezer开源的分离音频库，可以将音频分离成人声、伴奏、鼓点、贝斯、钢琴等等。\n它是基于TensorFlow的深度学习模型，可以在CPU或GPU上运行。它的分离效果非常好，可以说是目前最好的分离音频库了。"]}),"\n",(0,y.jsx)(n.h2,{children:"安装流程"}),"\n",(0,y.jsxs)(n.ol,{children:["\n",(0,y.jsxs)(n.li,{children:["\n",(0,y.jsx)(n.p,{children:"安装pyenv（可选）"}),"\n",(0,y.jsx)(n.p,{children:"Spleeter要求Python版本为3.7 - 3.10，所以我们需要安装pyenv来管理Python版本。"}),"\n"]}),"\n",(0,y.jsxs)(n.li,{children:["\n",(0,y.jsx)(n.p,{children:"安装python：推荐版本为v3.10.5。"}),"\n"]}),"\n",(0,y.jsxs)(n.li,{children:["\n",(0,y.jsx)(n.p,{children:"安装FFmpeg"}),"\n"]}),"\n",(0,y.jsxs)(n.li,{children:["\n",(0,y.jsx)(n.p,{children:"使用pip安装Spleeter"}),"\n",(0,y.jsx)(n.pre,{children:(0,y.jsx)(n.code,{className:"language-bash",children:"/path/to/.pyenv/pyenv-win/versions/3.10.5/python.exe -m pip install spleeter\n"})}),"\n"]}),"\n"]}),"\n",(0,y.jsx)(n.h2,{children:"使用Spleeter提取伴奏"}),"\n",(0,y.jsxs)(n.ul,{children:["\n",(0,y.jsxs)(n.li,{children:["\n",(0,y.jsx)(n.p,{children:"通过执行命令来提取伴奏"}),"\n",(0,y.jsx)(n.pre,{children:(0,y.jsx)(n.code,{className:"language-bash",children:"python.exe -m spleeter separate -p spleeter:2stems -o /path/to/output /path/to/audio.mp3\n"})}),"\n"]}),"\n",(0,y.jsxs)(n.li,{children:["\n",(0,y.jsx)(n.p,{children:"通过python执行代码（代码由AI生成）"}),"\n",(0,y.jsx)(n.pre,{children:(0,y.jsx)(n.code,{className:"language-python",children:"import spleeter\n\n# Separate vocals and accompaniment from an audio file\nseparator = spleeter.Separator('spleeter:2stems')\nseparator.separate_to_file('path/to/audio/file', 'output/path')\n\n# Separate vocals, drums, bass, and other from an audio file\nseparator = spleeter.Separator('spleeter:4stems')\nseparator.separate_to_file('path/to/audio/file', 'output/path')\n\n# Separate vocals, drums, bass, piano, and other from an audio file\nseparator = spleeter.Separator('spleeter:5stems')\nseparator.separate_to_file('path/to/audio/file', 'output/path')\n"})}),"\n"]}),"\n"]}),"\n",(0,y.jsx)(n.h2,{children:"提取效果"}),"\n",(0,y.jsx)(P,{})]})}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=I(I({},(0,Z.a)()),e.components).wrapper;return n?(0,y.jsx)(n,I(I({},e),{},{children:(0,y.jsx)(C,I({},e))})):C(e)}S.Z.Text;var F=function(e){return(0,y.jsx)(i.Z,{children:(0,y.jsx)(A,{})})};function z(e){return(0,y.jsxs)(s.Fragment,{children:[(0,y.jsxs)(a(),{children:[(0,y.jsx)("title",{children:"使用Spleeter提取伴奏"}),(0,y.jsx)("meta",{name:"keywords",content:"视频, 媒体"}),(0,y.jsx)("meta",{name:"description",content:"使用Spleeter提取伴奏"})]}),(0,y.jsx)(F,{})]})}},19668:function(e,n,r){"use strict";var s=r(85893);n.Z=function(e){var n=e.href,r=e.className,t=e.children;return(0,s.jsx)("a",{className:r,href:n,target:"_blank",rel:"noopener noreferrer",children:t})}},39243:function(e,n,r){"use strict";var s=r(19623),t=r(73935),a=r(11163),i=r(81860),c=r(18610),l=r(75162),o=r(6171),h=r(76467),u=r(63791),d=r.n(u),p=r(85893),m=i.Z.BackTop;n.Z=function(e){var n=(0,a.useRouter)();return[(0,p.jsxs)("div",{className:d().main,children:[e.goBack?(0,p.jsx)("div",{className:"mb-[16px] text-right",children:(0,p.jsxs)(c.ZP,{onClick:function(e){n.push("/")},children:[(0,p.jsx)(o.Z,{className:"mr-[6px]"}),"返回"]})}):null,null==e?void 0:e.children]},"main"),(0,p.jsx)(h.default,{children:null!=e&&e.goToTop&&("undefined"==typeof document?"undefined":(0,s.Z)(document))==="object"?(0,t.createPortal)((0,p.jsx)(m,{type:"primary",icon:(0,p.jsx)(l.Z,{}),title:"返回顶部",tabIndex:0,role:"button","aria-label":"返回顶部"}),document.body):null},"backTop")]}},31725:function(e,n,r){"use strict";r(64043);var s=r(88946),t=r.n(s),a=r(81290),i=r.n(a),c=r(41664),l=r.n(c),o=r(21612),h=r(78957),u=r(83062),d=r(67337),p=r(32958),m=r.n(p),x=r(96808),j=r(19668),f=r(85893),v=[{href:"/",title:"文章"},{href:"/favorites",title:"收藏夹"},{href:"/project",title:"开源项目"}],_=["github.io","vercel.app"],g=t()(v).call(v,function(e,n){return(0,f.jsx)("li",{className:m().navListItem,children:(0,f.jsx)(l(),{href:e.href,children:e.title})},e.href)});n.Z=function(e){return(0,f.jsx)(o.Z.Header,{className:m().antdHeader,children:(0,f.jsxs)("div",{className:m().header,children:[(0,f.jsx)("nav",{className:m().headerLeft,children:(0,f.jsx)("ul",{className:m().navList,children:g})}),(0,f.jsx)("div",{className:m().headerRight,children:(0,f.jsxs)(h.Z,{size:16,children:[(0,f.jsx)(u.Z,{title:"切换网站地址",children:(0,f.jsx)("a",{className:m().switchAddress,role:"button",tabIndex:0,"aria-label":"切换网站地址",onClick:function(e){var n=window.location,r=n.pathname,s=n.hostname,t=/github\.io/.test(s);window.location.href=new(i())(r,"https://duan602728596.".concat(_[t?1:0],"/"))},children:(0,f.jsx)(d.Z,{className:m().switchAddressIcon})})}),(0,f.jsx)(j.Z,{className:m().githubLink,href:"https://github.com/duan602728596",children:(0,f.jsx)(x.Z,{className:"block w-full h-full",imageClassName:"block w-full h-full",avifSrc:"/images/github.avif",webpSrc:"/images/github.webp",src:"/images/github.png",alt:"github"})})]})})]})})}},96808:function(e,n,r){"use strict";var s=r(85893);n.Z=function(e){var n=e.className,r=e.imageClassName,t=e.avifSrc,a=e.webpSrc,i=e.src,c=e.alt;return(0,s.jsxs)("picture",{className:n,children:[t&&(0,s.jsx)("source",{srcSet:t,type:"image/avif"}),a&&(0,s.jsx)("source",{srcSet:a,type:"image/webp"}),(0,s.jsx)("img",{className:r,src:i,alt:c})]})}},55147:function(e,n,r){"use strict";var s=r(67294),t=r(31725),a=r(39243),i=r(85893);n.Z=function(e){return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)(t.Z,{}),(0,i.jsx)(a.Z,{goToTop:!0,goBack:!0,children:e.children})]})}},48239:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/article/media/extract-accompaniment-using-spleeter",function(){return r(41613)}])},63791:function(e){e.exports={main:"main_main__IZXSv",goToTop:"main_goToTop__Py8c8"}},32958:function(e){e.exports={antdHeader:"nav_antdHeader__eCvl0",header:"nav_header__y1mlw",headerLeft:"nav_headerLeft__PrT7_",headerRight:"nav_headerRight__JfqYP",navList:"nav_navList__3HXot",navListItem:"nav_navListItem__hpAdz",switchAddress:"nav_switchAddress__sVzqD",githubLink:"nav_githubLink__BDzSl",switchAddressIcon:"nav_switchAddressIcon__KLxGG"}}},function(e){e.O(0,[8610,1447,4530,9774,2888,179],function(){return e(e.s=48239)}),_N_E=e.O()}]);